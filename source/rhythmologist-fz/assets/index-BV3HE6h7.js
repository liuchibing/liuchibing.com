import{d as je,r as E,u as Ra,Y as fe,E as Ga,h as ka,w as wa,a as U,m as Q,b as D,c as K,e as i,o as g,f as v,g as R,i as a,j as n,k as c,p as Ua,l as he,F as C,n as L,q as h,s as _,t as S,v as J,x as Se,y as V,z as We,A as Ma,B as xe,C as Va,D as Ae,G as _e,H as Na,I as Ea,J as La,K as ja,L as Sa,M as Ie,N as Wa,O as Ia,P as Oa,Q as Fa,R as qa,S as za,T as Ta,__tla as $a}from"./vendor-By-VgToN.js";Promise.all([(()=>{try{return $a}catch{}})()]).then(async()=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();function ve(t,e){const o=new File([t],e),r=URL.createObjectURL(o),l=document.createElement("a");l.href=r,l.download=e,l.click(),setTimeout(()=>{URL.revokeObjectURL(r),l.remove()},100)}const Oe={"4x/\u56DB\u5206":{length:1,displayName:"\u56DB\u5341\u516D\u5206",displayAbc:"A4"},"4x/\u4E8C\u516B":{length:1,displayName:"4x/\u4E8C\u516B",displayAbc:"A2A2"},"4x/\u4E09\u8FDE\u97F3":{displayName:"4x/\u4E09\u8FDE\u97F3",length:1,displayAbc:"(3A2A2A2"},"4x/\u56DB\u5341\u516D":{displayName:"4x/\u56DB\u5341\u516D",length:1,displayAbc:"AAAA"},"4x/\u524D\u5341\u516D\u540E\u516B":{displayName:"4x/\u524D\u5341\u516D\u540E\u516B",length:1,displayAbc:"AAA2"},"4x/\u524D\u516B\u540E\u5341\u516D":{displayName:"4x/\u524D\u516B\u540E\u5341\u516D",length:1,displayAbc:"A2AA"},"4x/\u5C0F\u5207\u5206":{displayName:"4x/\u5C0F\u5207\u5206",length:1,displayAbc:"AA2A"},"4x/\u5C0F\u9644\u70B9":{displayName:"4x/\u5C0F\u9644\u70B9",length:1,displayAbc:"A3A"},"4x/\u540E\u5C0F\u9644\u70B9":{displayName:"4x/\u540E\u5C0F\u9644\u70B9",length:1,displayAbc:"AA3"},"4x/\u5927\u9644\u70B9":{length:2,displayName:"4x/\u5927\u9644\u70B9",displayAbc:"A6A2"},"4x/\u540E\u5927\u9644\u70B9":{length:2,displayName:"4x/\u540E\u5927\u9644\u70B9",displayAbc:"A2A6"},"4x/\u5927\u5207\u5206":{length:2,displayName:"4x/\u5927\u5207\u5206",displayAbc:"A2A4A2"},"4x/\u56DB\u5206\u4F11\u6B62":{length:1,displayName:"4x/\u56DB\u5206\u4F11\u6B62",displayAbc:"z4"},"4x/\u4E8C\u5206":{length:2,displayName:"4x/\u4E8C\u5206",displayAbc:"A8"},"4x/\u7A7A\u4E8C\u516B":{length:1,displayName:"4x/\u7A7A\u4E8C\u516B",displayAbc:"z2A2"},"4x/\u540E\u5341\u516D\u5927\u9644\u70B9":{length:2,displayName:"4x/\u540E\u5341\u516D\u5927\u9644\u70B9",displayAbc:"A6AA"},"4x/\u56DB\u5206\u8FDE\u5C0F\u9644\u70B9":{length:2,displayName:"4x/\u56DB\u5206\u8FDE\u5C0F\u9644\u70B9",displayAbc:"A4-A3A"},"4x/\u56DB\u5206\u8FDE\u540E\u5C0F\u9644\u70B9":{length:2,displayName:"4x/\u56DB\u5206\u8FDE\u540E\u5C0F\u9644\u70B9",displayAbc:"A4-AA3"},"4x/\u56DB\u5206\u8FDE\u524D\u5341\u516D\u540E\u516B":{length:2,displayName:"4x/\u56DB\u5206\u8FDE\u524D\u5341\u516D\u540E\u516B",displayAbc:"A4-AAA2"},"4x/\u56DB\u5206\u8FDE\u5C0F\u5207\u5206":{length:2,displayName:"4x/\u56DB\u5206\u8FDE\u5C0F\u5207\u5206",displayAbc:"A4-AA2A"},"4x/\u56DB\u5206\u8FDE\u4E09\u8FDE\u97F3":{length:2,displayName:"4x/\u56DB\u5206\u8FDE\u4E09\u8FDE\u97F3",displayAbc:"A4 - (3A2A2A2"},"4x/\u56DB\u5206\u8FDE\u56DB\u5341\u516D":{length:2,displayName:"4x/\u56DB\u5206\u8FDE\u56DB\u5341\u516D",displayAbc:"A4-AAAA"},"4x/\u9644\u70B9\u4E8C\u5206":{length:3,displayName:"4x/\u9644\u70B9\u4E8C\u5206",displayAbc:"A12"},"4x/\u524D\u5341\u516D\u5927\u9644\u70B9":{length:2,displayName:"4x/\u524D\u5341\u516D\u5927\u9644\u70B9",displayAbc:"AAA6"},"4x/\u524D\u5341\u516D\u5927\u5207\u5206":{length:2,displayName:"4x/\u524D\u5341\u516D\u5927\u5207\u5206",displayAbc:"AAA4A2"},"4x/\u540E\u5341\u516D\u5927\u5207\u5206":{length:2,displayName:"4x/\u540E\u5341\u516D\u5927\u5207\u5206",displayAbc:"A2A4AA"},"4x/\u524D\u540E\u5341\u516D\u5927\u5207\u5206":{length:2,displayName:"4x/\u524D\u540E\u5341\u516D\u5927\u5207\u5206",displayAbc:"AAA4AA"},"4x/\u7A7A\u540E\u5341\u516D":{length:1,displayName:"4x/\u7A7A\u540E\u5341\u516D",displayAbc:"z2AA"},"4x/\u7A7A\u5927\u5207\u5206":{length:2,displayName:"4x/\u7A7A\u5927\u5207\u5206",displayAbc:"z2A4A2"},"4x/\u7A7A\u540E\u5927\u9644\u70B9":{length:2,displayName:"4x/\u7A7A\u540E\u5927\u9644\u70B9",displayAbc:"z2A6"},"4x/\u7A7A\u56DB\u5341\u516D":{length:1,displayName:"4x/\u7A7A\u56DB\u5341\u516D",displayAbc:"zAAA"},"4x/\u4E8C\u516B\u8FDE\u5C0F\u9644\u70B9":{length:2,displayName:"4x/\u4E8C\u516B\u8FDE\u5C0F\u9644\u70B9",displayAbc:"A2A2- A3A"},"4x/\u4E8C\u516B\u8FDE\u540E\u5C0F\u9644\u70B9":{length:2,displayName:"4x/\u4E8C\u516B\u8FDE\u540E\u5C0F\u9644\u70B9",displayAbc:"A2A2- AA3"},"4x/\u4E8C\u516B\u8FDE\u524D\u5341\u516D\u540E\u516B":{length:2,displayName:"4x/\u4E8C\u516B\u8FDE\u524D\u5341\u516D\u540E\u516B",displayAbc:"A2A2- AAA2"},"4x/\u4E8C\u516B\u8FDE\u5C0F\u5207\u5206":{length:2,displayName:"4x/\u4E8C\u516B\u8FDE\u5C0F\u5207\u5206",displayAbc:"A2A2- AA2A"},"4x/\u4E8C\u516B\u8FDE\u4E09\u8FDE\u97F3":{length:2,displayName:"4x/\u4E8C\u516B\u8FDE\u4E09\u8FDE\u97F3",displayAbc:"A4 - (3A2A2A2"},"4x/\u4E8C\u516B\u8FDE\u56DB\u5341\u516D":{length:2,displayName:"4x/\u4E8C\u516B\u8FDE\u56DB\u5341\u516D",displayAbc:"A2A2- AAAA"},"4x/\u4E24\u4E2A\u56DB\u5206\u4F11\u6B62":{length:2,displayName:"4x/\u4E24\u4E2A\u56DB\u5206\u4F11\u6B62",displayAbc:"z4z4"},"4x/\u7A7A\u5927\u9644\u70B9":{length:2,displayName:"4x/\u7A7A\u5927\u9644\u70B9",displayAbc:"z6A2"},"4x/\u7A7A\u540E\u5341\u516D\u5927\u9644\u70B9":{length:2,displayName:"4x/\u7A7A\u540E\u5341\u516D\u5927\u9644\u70B9",displayAbc:"z6AA"},"4x/\u540E\u5927\u9644\u70B9\u7A7A":{length:2,displayName:"4x/\u540E\u5927\u9644\u70B9\u7A7A",displayAbc:"A2z6"},"4x/\u524D\u5341\u516D\u540E\u5927\u9644\u70B9\u7A7A":{length:2,displayName:"4x/\u524D\u5341\u516D\u540E\u5927\u9644\u70B9\u7A7A",displayAbc:"AAz6"},"8x/\u56DB\u516B":{length:3,displayName:"8x/\u56DB\u516B",displayAbc:"A4A2"},"8x/\u56DB\u5341\u516D":{length:3,displayAbc:"A4AA"},"8x/\u516B\u56DB":{length:3,displayAbc:"A2A4"},"8x/\u5341\u516D\u56DB":{length:3,displayAbc:"AAA4"},"8x/\u4E09\u4E2A\u516B":{length:3,displayAbc:"A2A2A2"},"8x/\u4E8C\u516B\u5341\u516D":{length:3,displayAbc:"A2A2AA"},"8x/\u516B\u5341\u516D\u516B":{length:3,displayAbc:"A2AAA2"},"8x/\u5341\u516D\u4E8C\u516B":{length:3,displayAbc:"AAA2A2"},"8x/\u516B\u56DB\u5341\u516D":{length:3,displayAbc:"A2AAAA"},"8x/\u56DB\u5341\u516D\u516B":{length:3,displayAbc:"AAAAA2"},"8x/\u5341\u516D\u516B\u5341\u516D":{length:3,displayAbc:"AAA2AA"},"8x/\u516D\u5341\u516D":{length:3,displayAbc:"AAAAAA"},"8x/\u516B\u5C0F\u9644\u70B9":{length:3,displayAbc:"A2A3A"},"8x/\u5341\u516D\u5C0F\u9644\u70B9":{length:3,displayAbc:"AAA3A"},"8x/\u5C0F\u9644\u70B9\u516B":{length:3,displayAbc:"A3AA2"},"8x/\u5C0F\u9644\u70B9\u5341\u516D":{length:3,displayAbc:"A3AAA"},"8x/\u516B\u540E\u5C0F\u9644\u70B9":{length:3,displayAbc:"A2AA3"},"8x/\u5341\u516D\u540E\u5C0F\u9644\u70B9":{length:3,displayAbc:"AAAA3"},"8x/\u540E\u5C0F\u9644\u70B9\u516B":{length:3,displayAbc:"AA3A2"},"8x/\u540E\u5C0F\u9644\u70B9\u5341\u516D":{length:3,displayAbc:"AA3AA"},"8x/\u516B\u5C0F\u5207\u5206":{length:3,displayAbc:"A2AA2A"},"8x/\u5341\u516D\u5C0F\u5207\u5206":{length:3,displayAbc:"AAAA2A"},"8x/\u5C0F\u5207\u5206\u516B":{length:3,displayAbc:"AA2AA2"},"8x/\u5C0F\u5207\u5206\u5341\u516D":{length:3,displayAbc:"AA2AAA"},"8x/\u8FDE\u5207":{length:3,displayAbc:"AA2A2A"},"8x/\u524D\u7A7A\u4E09\u4E2A\u516B":{length:3,displayName:"8x/\u524D\u7A7A\u4E09\u4E2A\u516B",displayAbc:"z2A2A2"},"8x/\u56DB\u516B\u7A7A":{length:3,displayName:"8x/\u56DB\u516B\u7A7A",displayAbc:"A4z2"},"8x/\u516B\u56DB\u7A7A":{length:3,displayName:"8x/\u516B\u56DB\u7A7A",displayAbc:"A2z2z2"}},Fe={"4x/\u4E00\u62CD\u57FA\u672C\u8282\u594F":["4x/\u56DB\u5206","4x/\u4E8C\u516B","4x/\u4E09\u8FDE\u97F3","4x/\u56DB\u5341\u516D","4x/\u524D\u5341\u516D\u540E\u516B","4x/\u524D\u516B\u540E\u5341\u516D","4x/\u5C0F\u5207\u5206","4x/\u5C0F\u9644\u70B9","4x/\u540E\u5C0F\u9644\u70B9"],"4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u65E0\u5341\u516D\u5206":["4x/\u5927\u9644\u70B9","4x/\u540E\u5927\u9644\u70B9","4x/\u5927\u5207\u5206","4x/\u4E8C\u5206"],"4x/\u56DB\u5206\u8FDE\u7EBF":["4x/\u56DB\u5206\u8FDE\u5C0F\u9644\u70B9","4x/\u56DB\u5206\u8FDE\u540E\u5C0F\u9644\u70B9","4x/\u56DB\u5206\u8FDE\u524D\u5341\u516D\u540E\u516B","4x/\u56DB\u5206\u8FDE\u5C0F\u5207\u5206","4x/\u56DB\u5206\u8FDE\u4E09\u8FDE\u97F3","4x/\u56DB\u5206\u8FDE\u56DB\u5341\u516D"],"4x/\u4E8C\u516B\u8FDE\u7EBF":["4x/\u4E8C\u516B\u8FDE\u5C0F\u9644\u70B9","4x/\u4E8C\u516B\u8FDE\u540E\u5C0F\u9644\u70B9","4x/\u4E8C\u516B\u8FDE\u524D\u5341\u516D\u540E\u516B","4x/\u4E8C\u516B\u8FDE\u5C0F\u5207\u5206","4x/\u4E8C\u516B\u8FDE\u4E09\u8FDE\u97F3","4x/\u4E8C\u516B\u8FDE\u56DB\u5341\u516D"],"4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u5341\u516D\u5206\u97F3\u7B26\u90E8\u5206\uFF08\u65E0\u524D\u540E\u5341\u516D\u5927\u5207\u5206\uFF09":["4x/\u540E\u5341\u516D\u5927\u9644\u70B9","4x/\u524D\u5341\u516D\u5927\u9644\u70B9","4x/\u524D\u5341\u516D\u5927\u5207\u5206","4x/\u540E\u5341\u516D\u5927\u5207\u5206"],"8x/\u5E73\u5747\u8282\u594F\u578B":["8x/\u56DB\u516B","8x/\u56DB\u5341\u516D","8x/\u516B\u56DB","8x/\u5341\u516D\u56DB","8x/\u4E09\u4E2A\u516B","8x/\u4E8C\u516B\u5341\u516D","8x/\u516B\u5341\u516D\u516B","8x/\u5341\u516D\u4E8C\u516B","8x/\u516B\u56DB\u5341\u516D","8x/\u56DB\u5341\u516D\u516B","8x/\u5341\u516D\u516B\u5341\u516D","8x/\u516D\u5341\u516D"],"8x/\u542B\u5C0F\u9644\u70B9":["8x/\u516B\u5C0F\u9644\u70B9","8x/\u5341\u516D\u5C0F\u9644\u70B9","8x/\u5C0F\u9644\u70B9\u516B","8x/\u5C0F\u9644\u70B9\u5341\u516D"],"8x/\u542B\u540E\u5C0F\u9644\u70B9":["8x/\u516B\u540E\u5C0F\u9644\u70B9","8x/\u5341\u516D\u540E\u5C0F\u9644\u70B9","8x/\u540E\u5C0F\u9644\u70B9\u516B","8x/\u540E\u5C0F\u9644\u70B9\u5341\u516D"],"8x/\u542B\u5C0F\u5207\u5206":["8x/\u516B\u5C0F\u5207\u5206","8x/\u5341\u516D\u5C0F\u5207\u5206","8x/\u5C0F\u5207\u5206\u516B","8x/\u5C0F\u5207\u5206\u5341\u516D"]},qe={\u521D\u4E00\u8868\u6F14\u4E13\u4E1A\u56DB\u4E8C\u62CD\u542C\u5199:{scoreInsertions:{0:"[M: 2/4] [Q: 1/4=72]"},pieceLength:12,layout:{B1:{start:0,end:2},B2:{start:2,end:4},B3:{start:4,end:6},B4:{start:6,end:8},B5:{start:8,end:10},B6:{start:10,end:12},B6\u4E0D\u542B\u6700\u540E\u4E00\u62CD:{start:10,end:11},B1\u4E0D\u542B\u7B2C\u4E00\u62CD:{start:1,end:2}},actions:[{type:"ChooseARandomPosition",in:["B2","B3","B4","B5","B6\u4E0D\u542B\u6700\u540E\u4E00\u62CD","B1\u4E0D\u542B\u7B2C\u4E00\u62CD"],length:1,do:{type:"RandomPick",fromList:["4x/\u56DB\u5206\u4F11\u6B62"],constraints:[{type:"UsageCountGroup",name:"MainGroup"}]}},{type:"FillEachBlank",in:["B1","B2","B3","B4","B5","B6"],with:{type:"RandomPick",fromCategories:["4x/\u4E00\u62CD\u57FA\u672C\u8282\u594F","4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u65E0\u5341\u516D\u5206"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"},{type:"OnlyAllowPatternsWhenEndingAt",whenEndingAtBeat:11,whatPatterns:["4x/\u4E8C\u5206"]}]}}]},\u521D\u4E00\u8868\u6F14\u4E13\u4E1A\u56DB\u4E09\u62CD\u542C\u5199:{scoreInsertions:{0:"[M: 3/4] [Q: 1/4=72]"},pieceLength:12,layout:{B1:{start:0,end:3},B2:{start:3,end:6},B3:{start:6,end:9},B4:{start:9,end:12},B4\u4E0D\u542B\u6700\u540E\u4E00\u62CD:{start:9,end:11},B1\u4E0D\u542B\u7B2C\u4E00\u62CD:{start:1,end:3}},actions:[{type:"ChooseARandomPosition",in:["B2","B3","B4\u4E0D\u542B\u6700\u540E\u4E00\u62CD","B1\u4E0D\u542B\u7B2C\u4E00\u62CD"],length:1,do:{type:"RandomPick",fromList:["4x/\u56DB\u5206\u4F11\u6B62"],constraints:[{type:"UsageCountGroup",name:"MainGroup"}]}},{type:"FillEachBlank",in:["B1","B2","B3","B4"],with:{type:"RandomPick",fromCategories:["4x/\u4E00\u62CD\u57FA\u672C\u8282\u594F","4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u65E0\u5341\u516D\u5206"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"},{type:"OnlyAllowPatternsWhenEndingAt",whenEndingAtBeat:11,whatPatterns:["4x/\u4E8C\u5206"]}]}}]},\u521D\u4E8C\u8868\u6F14\u4E13\u4E1A\u56DB\u56DB\u62CD\u542C\u5199:{scoreInsertions:{0:"[M: 4/4] [Q: 1/4=72]"},pieceLength:16,layout:{B1:{start:0,end:2},B2:{start:2,end:4},B3:{start:4,end:6},B4:{start:6,end:8},B5:{start:8,end:10},B6:{start:10,end:12},B7:{start:12,end:14},B8:{start:14,end:16},B8\u4E0D\u542B\u6700\u540E\u4E00\u62CD:{start:14,end:15},B1\u4E0D\u542B\u7B2C\u4E00\u62CD:{start:1,end:2}},actions:[{type:"ChooseARandomPosition",in:["B2","B3","B4","B5","B6","B7","B8\u4E0D\u542B\u6700\u540E\u4E00\u62CD","B1"],length:2,do:{type:"RandomPick",fromCategories:["4x/\u56DB\u5206\u8FDE\u7EBF"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B2","B3","B4","B5","B6","B7","B8\u4E0D\u542B\u6700\u540E\u4E00\u62CD","B1\u4E0D\u542B\u7B2C\u4E00\u62CD"],length:1,do:{type:"RandomPick",fromList:["4x/\u56DB\u5206\u4F11\u6B62"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1\u4E0D\u542B\u7B2C\u4E00\u62CD","B2","B3","B4","B5","B6","B7","B8\u4E0D\u542B\u6700\u540E\u4E00\u62CD"],length:1,do:{type:"RandomPick",fromList:["4x/\u7A7A\u4E8C\u516B"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"FillEachBlank",in:["B1","B2","B3","B4","B5","B6","B7","B8"],with:{type:"RandomPick",fromCategories:["4x/\u4E00\u62CD\u57FA\u672C\u8282\u594F","4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u65E0\u5341\u516D\u5206","4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u5341\u516D\u5206\u97F3\u7B26\u90E8\u5206\uFF08\u65E0\u524D\u540E\u5341\u516D\u5927\u5207\u5206\uFF09"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"},{type:"OnlyAllowPatternsWhenEndingAt",whenEndingAtBeat:15,whatPatterns:["4x/\u4E8C\u5206"]}]}}]},\u521D\u4E8C\u8868\u6F14\u4E13\u4E1A\u56DB\u4E09\u62CD\u542C\u5199:{scoreInsertions:{0:"[M: 3/4] [Q: 1/4=72]"},pieceLength:15,layout:{B1:{start:0,end:3},B2:{start:3,end:6},B3:{start:6,end:9},B4:{start:9,end:12},B5:{start:12,end:15},B5\u4E0D\u542B\u6700\u540E\u4E00\u62CD:{start:12,end:14},B1\u4E0D\u542B\u7B2C\u4E00\u62CD:{start:1,end:3}},actions:[{type:"ChooseARandomPosition",in:["B2","B3","B4","B5\u4E0D\u542B\u6700\u540E\u4E00\u62CD","B1"],length:2,do:{type:"RandomPick",fromCategories:["4x/\u56DB\u5206\u8FDE\u7EBF"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B2","B3","B4","B5\u4E0D\u542B\u6700\u540E\u4E00\u62CD","B1\u4E0D\u542B\u7B2C\u4E00\u62CD"],length:1,do:{type:"RandomPick",fromList:["4x/\u56DB\u5206\u4F11\u6B62"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1\u4E0D\u542B\u7B2C\u4E00\u62CD","B2","B3","B4","B5\u4E0D\u542B\u6700\u540E\u4E00\u62CD"],length:1,do:{type:"RandomPick",fromList:["4x/\u7A7A\u4E8C\u516B"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"FillEachBlank",in:["B1","B2","B3","B4"],with:{type:"RandomPick",fromCategories:["4x/\u4E00\u62CD\u57FA\u672C\u8282\u594F","4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u65E0\u5341\u516D\u5206","4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u5341\u516D\u5206\u97F3\u7B26\u90E8\u5206\uFF08\u65E0\u524D\u540E\u5341\u516D\u5927\u5207\u5206\uFF09"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"RandomPick",fromList:["4x/\u9644\u70B9\u4E8C\u5206"],in:"B5",maxLength:3}]},\u521D\u4E09\u8868\u6F14\u4E13\u4E1A\u56DB\u56DB\u62CD\u542C\u5199:{scoreInsertions:{0:"[M: 4/4] [Q: 1/4=72]",1:"|"},pieceLength:20,layout:{B1:{start:1,end:5},B2:{start:5,end:9},B3:{start:9,end:13},B4:{start:13,end:17},B5:{start:17,end:20},B1\u4E0D\u542B\u7B2C\u4E00\u62CD:{start:2,end:5},B0:{start:0,end:1},B5\u7B2C\u4E00\u62CD:{start:17,end:18},\u6700\u540E\u4E24\u62CD:{start:18,end:20}},actions:[{type:"RandomPick",maxLength:2,fromList:["4x/\u4E24\u4E2A\u56DB\u5206\u4F11\u6B62"],in:"\u6700\u540E\u4E24\u62CD"},{type:"RandomPick",fromCategories:["4x/\u4E00\u62CD\u57FA\u672C\u8282\u594F"],fromList:["4x/\u7A7A\u4E8C\u516B","4x/\u7A7A\u540E\u5341\u516D","4x/\u7A7A\u56DB\u5341\u516D"],maxLength:1,in:"B0",constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]},{type:"ChooseARandomPosition",in:["B2","B3","B4","B1"],length:2,do:{type:"RandomPick",fromCategories:["4x/\u56DB\u5206\u8FDE\u7EBF"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B2","B3","B4","B1"],length:2,do:{type:"RandomPick",fromCategories:["4x/\u4E8C\u516B\u8FDE\u7EBF"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B2","B3","B4","B1\u4E0D\u542B\u7B2C\u4E00\u62CD"],length:1,do:{type:"RandomPick",fromList:["4x/\u56DB\u5206\u4F11\u6B62"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1\u4E0D\u542B\u7B2C\u4E00\u62CD","B2","B3","B4"],length:1,do:{type:"RandomPick",fromList:["4x/\u7A7A\u4E8C\u516B","4x/\u7A7A\u540E\u5341\u516D","4x/\u7A7A\u5927\u5207\u5206","4x/\u7A7A\u540E\u5927\u9644\u70B9"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1\u4E0D\u542B\u7B2C\u4E00\u62CD","B2","B3","B4"],length:1,do:{type:"RandomPick",fromList:["4x/\u7A7A\u56DB\u5341\u516D"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"FillEachBlank",in:["B1","B2","B3","B4","B5\u7B2C\u4E00\u62CD"],with:{type:"RandomPick",fromCategories:["4x/\u4E00\u62CD\u57FA\u672C\u8282\u594F","4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u65E0\u5341\u516D\u5206","4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u5341\u516D\u5206\u97F3\u7B26\u90E8\u5206\uFF08\u65E0\u524D\u540E\u5341\u516D\u5927\u5207\u5206\uFF09"],fromList:["4x/\u524D\u540E\u5341\u516D\u5927\u5207\u5206"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"},{type:"OnlyAllowPatternsWhenEndingAt",whenEndingAtBeat:17,whatPatterns:["4x/\u56DB\u5206"]}]}}]},\u521D\u4E09\u8868\u6F14\u4E13\u4E1A\u56DB\u4E09\u62CD\u542C\u5199:{scoreInsertions:{0:"[M: 3/4] [Q: 1/4=72]",1:"|"},pieceLength:18,layout:{B1:{start:1,end:4},B2:{start:4,end:7},B3:{start:7,end:10},B4:{start:10,end:13},B5:{start:13,end:16},B1\u4E0D\u542B\u7B2C\u4E00\u62CD:{start:2,end:4},B0:{start:0,end:1},B6\u7B2C\u4E00\u62CD:{start:16,end:17},B6\u5269\u4E0B\u7684\u4E00\u62CD:{start:17,end:18}},actions:[{type:"RandomPick",fromList:["4x/\u7A7A\u4E8C\u516B","4x/\u7A7A\u540E\u5341\u516D","4x/\u7A7A\u56DB\u5341\u516D"],in:"B0",maxLength:3,fromCategories:["4x/\u4E00\u62CD\u57FA\u672C\u8282\u594F"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]},{type:"ChooseARandomPosition",in:["B2","B3","B4","B1","B5"],length:2,do:{type:"RandomPick",fromCategories:["4x/\u56DB\u5206\u8FDE\u7EBF"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B2","B3","B4","B1","B5"],length:2,do:{type:"RandomPick",fromCategories:["4x/\u4E8C\u516B\u8FDE\u7EBF"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B2","B3","B4","B1\u4E0D\u542B\u7B2C\u4E00\u62CD","B5"],length:1,do:{type:"RandomPick",fromList:["4x/\u56DB\u5206\u4F11\u6B62"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1\u4E0D\u542B\u7B2C\u4E00\u62CD","B2","B3","B4","B5"],length:1,do:{type:"RandomPick",fromList:["4x/\u7A7A\u4E8C\u516B","4x/\u7A7A\u540E\u5341\u516D","4x/\u7A7A\u5927\u5207\u5206","4x/\u7A7A\u540E\u5927\u9644\u70B9"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1\u4E0D\u542B\u7B2C\u4E00\u62CD","B2","B3","B4","B5"],length:1,do:{type:"RandomPick",fromList:["4x/\u7A7A\u56DB\u5341\u516D"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"FillEachBlank",in:["B1","B2","B3","B4","B5","B6\u7B2C\u4E00\u62CD"],with:{type:"RandomPick",fromCategories:["4x/\u4E00\u62CD\u57FA\u672C\u8282\u594F","4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u65E0\u5341\u516D\u5206","4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u5341\u516D\u5206\u97F3\u7B26\u90E8\u5206\uFF08\u65E0\u524D\u540E\u5341\u516D\u5927\u5207\u5206\uFF09"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"},{type:"OnlyAllowPatternsWhenEndingAt",whenEndingAtBeat:16,whatPatterns:["4x/\u56DB\u5206"]}],fromList:["4x/\u524D\u540E\u5341\u516D\u5927\u5207\u5206"]}},{type:"RandomPick",fromList:["4x/\u56DB\u5206\u4F11\u6B62"],maxLength:1,in:"B6\u5269\u4E0B\u7684\u4E00\u62CD"}]},\u521D\u4E09\u8868\u6F14\u4E13\u4E1A\u516B\u4E09\u62CD\u542C\u5199:{scoreInsertions:{0:"[M: 3/8] [Q: 3/8=48]"},pieceLength:18,layout:{B1:{start:0,end:3},B2:{start:3,end:6},B3:{start:6,end:9},B4:{start:9,end:12},B5:{start:12,end:15},B6:{start:15,end:18}},actions:[{type:"ChooseARandomPosition",in:["B2","B3","B4","B5"],length:3,do:{type:"RandomPick",fromList:["8x/\u524D\u7A7A\u4E09\u4E2A\u516B"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5"],length:3,do:{type:"RandomPick",fromCategories:["8x/\u542B\u5C0F\u9644\u70B9"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5"],length:3,do:{type:"RandomPick",fromCategories:["8x/\u542B\u540E\u5C0F\u9644\u70B9"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5"],length:3,do:{type:"RandomPick",fromList:["8x/\u4E8C\u516B\u5341\u516D","8x/\u516B\u5341\u516D\u516B","8x/\u5341\u516D\u4E8C\u516B"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5"],length:3,do:{type:"RandomPick",fromList:["8x/\u516B\u56DB\u5341\u516D","8x/\u56DB\u5341\u516D\u516B","8x/\u5341\u516D\u516B\u5341\u516D"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"RandomPick",in:"B6",fromList:["8x/\u56DB\u516B\u7A7A","8x/\u516B\u56DB\u7A7A","8x/\u516B\u56DB","8x/\u56DB\u516B"],maxLength:3,constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]},{type:"FillEachBlank",in:["B1","B2","B3","B4","B5","B6"],with:{type:"RandomPick",fromCategories:["8x/\u5E73\u5747\u8282\u594F\u578B"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}}]},\u521D\u4E00\u8868\u6F14\u4E13\u4E1A\u56DB\u56DB\u62CD\u8BFB\u8C31:{scoreInsertions:{0:"[M: 4/4] [Q: 1/4=72]"},pieceLength:24,layout:{B1:{start:0,end:2},B2:{start:2,end:4},B3:{start:4,end:6},B4:{start:6,end:8},B5:{start:8,end:10},B6:{start:10,end:12},B7:{start:12,end:14},B8:{start:14,end:16},B9:{start:16,end:18},B10:{start:18,end:20},B11:{start:20,end:22},B12:{start:22,end:24},B12\u4E0D\u542B\u6700\u540E\u4E00\u62CD:{start:22,end:23},B1\u4E0D\u542B\u7B2C\u4E00\u62CD:{start:1,end:2}},actions:[{type:"ChooseARandomPosition",in:["B2","B3","B4","B5","B6","B7","B8","B9","B10","B11","B12\u4E0D\u542B\u6700\u540E\u4E00\u62CD","B1\u4E0D\u542B\u7B2C\u4E00\u62CD"],length:1,do:{type:"RandomPick",fromList:["4x/\u56DB\u5206\u4F11\u6B62"],constraints:[{type:"UsageCountGroup",name:"MainGroup"}]}},{type:"ChooseARandomPosition",in:["B2","B3","B4","B5","B6","B7","B8","B9","B10","B11","B12\u4E0D\u542B\u6700\u540E\u4E00\u62CD","B1\u4E0D\u542B\u7B2C\u4E00\u62CD"],length:1,do:{type:"RandomPick",fromList:["4x/\u7A7A\u4E8C\u516B"],constraints:[{type:"UsageCountGroup",name:"MainGroup"}]}},{type:"FillEachBlank",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9","B10","B11","B12"],with:{type:"RandomPick",fromCategories:["4x/\u4E00\u62CD\u57FA\u672C\u8282\u594F","4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u65E0\u5341\u516D\u5206"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"},{type:"OnlyAllowPatternsWhenEndingAt",whenEndingAtBeat:23,whatPatterns:["4x/\u4E8C\u5206"]}]}}]},\u521D\u4E00\u8868\u6F14\u4E13\u4E1A\u56DB\u4E09\u62CD\u8BFB\u8C31:{scoreInsertions:{0:"[M: 3/4] [Q: 1/4=72]"},pieceLength:24,layout:{B1:{start:0,end:3},B2:{start:3,end:6},B3:{start:6,end:9},B4:{start:9,end:12},B5:{start:12,end:15},B6:{start:15,end:18},B7:{start:18,end:21},B8:{start:21,end:24},B8\u4E0D\u542B\u6700\u540E\u4E00\u62CD:{start:21,end:23},B1\u4E0D\u542B\u7B2C\u4E00\u62CD:{start:1,end:3}},actions:[{type:"ChooseARandomPosition",in:["B2","B3","B4","B5","B6","B7","B8\u4E0D\u542B\u6700\u540E\u4E00\u62CD","B1\u4E0D\u542B\u7B2C\u4E00\u62CD"],length:1,do:{type:"RandomPick",fromList:["4x/\u56DB\u5206\u4F11\u6B62"],constraints:[{type:"UsageCountGroup",name:"MainGroup"}]}},{type:"ChooseARandomPosition",in:["B2","B3","B4","B5","B6","B7","B8\u4E0D\u542B\u6700\u540E\u4E00\u62CD","B1\u4E0D\u542B\u7B2C\u4E00\u62CD"],length:1,do:{type:"RandomPick",fromList:["4x/\u7A7A\u4E8C\u516B"],constraints:[{type:"UsageCountGroup",name:"MainGroup"}]}},{type:"FillEachBlank",in:["B1","B2","B3","B4","B5","B6","B7","B8"],with:{type:"RandomPick",fromCategories:["4x/\u4E00\u62CD\u57FA\u672C\u8282\u594F","4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u65E0\u5341\u516D\u5206"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"},{type:"OnlyAllowPatternsWhenEndingAt",whenEndingAtBeat:23,whatPatterns:["4x/\u4E8C\u5206"]}]}}]},\u521D\u4E00\u8868\u6F14\u4E13\u4E1A\u516B\u4E09\u62CD\u8BFB\u8C31:{scoreInsertions:{0:"[M: 3/8] [Q: 3/8=48]"},pieceLength:24,layout:{B1:{start:0,end:3},B2:{start:3,end:6},B3:{start:6,end:9},B4:{start:9,end:12},B5:{start:12,end:15},B6:{start:15,end:18},B7:{start:18,end:21},B8:{start:21,end:24}},actions:[{type:"ChooseARandomPosition",in:["B2","B3","B4","B5","B6","B7"],length:3,do:{type:"RandomPick",fromList:["8x/\u524D\u7A7A\u4E09\u4E2A\u516B"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5","B6","B7"],length:3,do:{type:"RandomPick",fromCategories:["8x/\u542B\u5C0F\u9644\u70B9"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5","B6","B7"],length:3,do:{type:"RandomPick",fromList:["8x/\u4E8C\u516B\u5341\u516D","8x/\u516B\u5341\u516D\u516B","8x/\u5341\u516D\u4E8C\u516B"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5","B6","B7"],length:3,do:{type:"RandomPick",fromList:["8x/\u516B\u56DB\u5341\u516D","8x/\u56DB\u5341\u516D\u516B","8x/\u5341\u516D\u516B\u5341\u516D"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"RandomPick",in:"B8",fromList:["8x/\u56DB\u516B\u7A7A","8x/\u516B\u56DB\u7A7A","8x/\u516B\u56DB","8x/\u56DB\u516B"],maxLength:3,constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]},{type:"FillEachBlank",in:["B1","B2","B3","B4","B5","B6","B7"],with:{type:"RandomPick",fromCategories:["8x/\u5E73\u5747\u8282\u594F\u578B"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}}]},\u521D\u4E8C\u8868\u6F14\u4E13\u4E1A\u56DB\u56DB\u62CD\u8BFB\u8C31:{scoreInsertions:{0:"[M: 4/4] [Q: 1/4=72]"},pieceLength:32,layout:{B1:{start:0,end:2},B2:{start:2,end:4},B3:{start:4,end:6},B4:{start:6,end:8},B5:{start:8,end:10},B6:{start:10,end:12},B7:{start:12,end:14},B8:{start:14,end:16},B9:{start:16,end:18},B10:{start:18,end:20},B11:{start:20,end:22},B12:{start:22,end:24},B13:{start:24,end:26},B14:{start:26,end:28},B15:{start:28,end:30},B16:{start:30,end:32},B16\u4E0D\u542B\u6700\u540E\u4E00\u62CD:{start:30,end:31},B1\u4E0D\u542B\u7B2C\u4E00\u62CD:{start:1,end:2}},actions:[{type:"RandomPick",fromList:["4x/\u4E8C\u5206"],maxLength:2,in:"B16",constraints:[{type:"UsageCountGroup",name:"MainGroup"}]},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9","B10","B11","B12","B13","B14","B15","B16\u4E0D\u542B\u6700\u540E\u4E00\u62CD"],length:2,do:{type:"RandomPick",fromCategories:["4x/\u56DB\u5206\u8FDE\u7EBF"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9","B10","B11","B12","B13","B14","B15","B16\u4E0D\u542B\u6700\u540E\u4E00\u62CD"],length:2,do:{type:"RandomPick",fromCategories:["4x/\u56DB\u5206\u8FDE\u7EBF"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B2","B3","B4","B5","B6","B7","B8","B9","B10","B11","B12","B13","B14","B15","B16\u4E0D\u542B\u6700\u540E\u4E00\u62CD","B1\u4E0D\u542B\u7B2C\u4E00\u62CD"],length:1,do:{type:"RandomPick",fromList:["4x/\u56DB\u5206\u4F11\u6B62"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1\u4E0D\u542B\u7B2C\u4E00\u62CD","B2","B3","B4","B5","B6","B7","B8","B9","B10","B11","B12","B13","B14","B15","B16\u4E0D\u542B\u6700\u540E\u4E00\u62CD"],length:1,do:{type:"RandomPick",fromList:["4x/\u7A7A\u4E8C\u516B"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"FillEachBlank",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9","B10","B11","B12","B13","B14","B15","B16"],with:{type:"RandomPick",fromCategories:["4x/\u4E00\u62CD\u57FA\u672C\u8282\u594F","4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u65E0\u5341\u516D\u5206","4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u5341\u516D\u5206\u97F3\u7B26\u90E8\u5206\uFF08\u65E0\u524D\u540E\u5341\u516D\u5927\u5207\u5206\uFF09"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}}]},\u521D\u4E8C\u8868\u6F14\u4E13\u4E1A\u56DB\u4E09\u62CD\u8BFB\u8C31:{scoreInsertions:{0:"[M: 3/4] [Q: 1/4=72]"},pieceLength:30,layout:{B1:{start:0,end:3},B2:{start:3,end:6},B3:{start:6,end:9},B4:{start:9,end:12},B5:{start:12,end:15},B6:{start:15,end:18},B7:{start:18,end:21},B8:{start:21,end:24},B9:{start:24,end:27},B10:{start:27,end:30},B10\u4E0D\u542B\u6700\u540E\u4E00\u62CD:{start:27,end:29},B1\u4E0D\u542B\u7B2C\u4E00\u62CD:{start:1,end:3}},actions:[{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9","B10\u4E0D\u542B\u6700\u540E\u4E00\u62CD"],length:2,do:{type:"RandomPick",fromCategories:["4x/\u56DB\u5206\u8FDE\u7EBF"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9","B10\u4E0D\u542B\u6700\u540E\u4E00\u62CD"],length:2,do:{type:"RandomPick",fromCategories:["4x/\u56DB\u5206\u8FDE\u7EBF"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B2","B3","B4","B5","B6","B7","B8","B9","B10\u4E0D\u542B\u6700\u540E\u4E00\u62CD","B1\u4E0D\u542B\u7B2C\u4E00\u62CD"],length:1,do:{type:"RandomPick",fromList:["4x/\u56DB\u5206\u4F11\u6B62"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1\u4E0D\u542B\u7B2C\u4E00\u62CD","B2","B3","B4","B5","B6","B7","B8","B9","B10\u4E0D\u542B\u6700\u540E\u4E00\u62CD"],length:1,do:{type:"RandomPick",fromList:["4x/\u7A7A\u4E8C\u516B"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"RandomPick",fromList:["4x/\u9644\u70B9\u4E8C\u5206"],in:"B10",maxLength:3,constraints:[{type:"UsageCountGroup",name:"MainGroup"}]},{type:"FillEachBlank",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9"],with:{type:"RandomPick",fromCategories:["4x/\u4E00\u62CD\u57FA\u672C\u8282\u594F","4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u65E0\u5341\u516D\u5206","4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u5341\u516D\u5206\u97F3\u7B26\u90E8\u5206\uFF08\u65E0\u524D\u540E\u5341\u516D\u5927\u5207\u5206\uFF09"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}}]},\u521D\u4E8C\u8868\u6F14\u4E13\u4E1A\u516B\u516D\u62CD\u8BFB\u8C31:{scoreInsertions:{0:"[M: 6/8] [Q: 3/8=48]"},pieceLength:30,layout:{B1:{start:0,end:3},B2:{start:3,end:6},B3:{start:6,end:9},B4:{start:9,end:12},B5:{start:12,end:15},B6:{start:15,end:18},B7:{start:18,end:21},B8:{start:21,end:24},B9:{start:24,end:27},B10:{start:27,end:30}},actions:[{type:"ChooseARandomPosition",in:["B2","B3","B4","B5","B6","B7","B8","B9"],length:3,do:{type:"RandomPick",fromList:["8x/\u524D\u7A7A\u4E09\u4E2A\u516B"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9"],length:3,do:{type:"RandomPick",fromCategories:["8x/\u542B\u5C0F\u9644\u70B9"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9"],length:3,do:{type:"RandomPick",fromCategories:["8x/\u542B\u540E\u5C0F\u9644\u70B9"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9"],length:3,do:{type:"RandomPick",fromList:["8x/\u4E8C\u516B\u5341\u516D","8x/\u516B\u5341\u516D\u516B","8x/\u5341\u516D\u4E8C\u516B"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9"],length:3,do:{type:"RandomPick",fromList:["8x/\u516B\u56DB\u5341\u516D","8x/\u56DB\u5341\u516D\u516B","8x/\u5341\u516D\u516B\u5341\u516D"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"RandomPick",in:"B10",fromList:["8x/\u56DB\u516B\u7A7A","8x/\u516B\u56DB\u7A7A","8x/\u516B\u56DB","8x/\u56DB\u516B"],maxLength:3,constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]},{type:"FillEachBlank",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9"],with:{type:"RandomPick",fromCategories:["8x/\u5E73\u5747\u8282\u594F\u578B"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}}]},\u521D\u4E09\u8868\u6F14\u4E13\u4E1A\u56DB\u56DB\u62CD\u8BFB\u8C31:{scoreInsertions:{0:"[M: 4/4] [Q: 1/4=72]",1:"|"},pieceLength:32,layout:{B1:{start:1,end:5},B2:{start:5,end:9},B3:{start:9,end:13},B4:{start:13,end:17},B5:{start:17,end:21},B6:{start:21,end:25},B7:{start:25,end:29},B8:{start:29,end:32},B1\u4E0D\u542B\u7B2C\u4E00\u62CD:{start:2,end:5},B0:{start:0,end:1},B8\u7B2C\u4E00\u62CD:{start:29,end:30},\u6700\u540E\u4E24\u62CD:{start:30,end:31}},actions:[{type:"RandomPick",maxLength:2,fromList:["4x/\u4E24\u4E2A\u56DB\u5206\u4F11\u6B62"],in:"\u6700\u540E\u4E24\u62CD"},{type:"RandomPick",fromCategories:["4x/\u4E00\u62CD\u57FA\u672C\u8282\u594F"],fromList:["4x/\u7A7A\u4E8C\u516B","4x/\u7A7A\u540E\u5341\u516D","4x/\u7A7A\u56DB\u5341\u516D"],maxLength:1,in:"B0",constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5","B6","B7"],length:2,do:{type:"RandomPick",fromCategories:["4x/\u56DB\u5206\u8FDE\u7EBF"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5","B6","B7"],length:2,do:{type:"RandomPick",fromCategories:["4x/\u4E8C\u516B\u8FDE\u7EBF"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B2","B3","B4","B5","B6","B7","B1\u4E0D\u542B\u7B2C\u4E00\u62CD"],length:1,do:{type:"RandomPick",fromList:["4x/\u7A7A\u5927\u9644\u70B9","4x/\u7A7A\u540E\u5341\u516D\u5927\u9644\u70B9","4x/\u540E\u5927\u9644\u70B9\u7A7A","4x/\u524D\u5341\u516D\u540E\u5927\u9644\u70B9\u7A7A"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1\u4E0D\u542B\u7B2C\u4E00\u62CD","B2","B3","B4","B5","B6","B7"],length:1,do:{type:"RandomPick",fromList:["4x/\u7A7A\u4E8C\u516B","4x/\u7A7A\u540E\u5341\u516D","4x/\u7A7A\u5927\u5207\u5206","4x/\u7A7A\u540E\u5927\u9644\u70B9"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1\u4E0D\u542B\u7B2C\u4E00\u62CD","B2","B3","B4","B5","B6","B7"],length:1,do:{type:"RandomPick",fromList:["4x/\u7A7A\u56DB\u5341\u516D"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"FillEachBlank",in:["B1","B2","B3","B4","B5","B6","B7","B8\u7B2C\u4E00\u62CD"],with:{type:"RandomPick",fromCategories:["4x/\u4E00\u62CD\u57FA\u672C\u8282\u594F","4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u65E0\u5341\u516D\u5206","4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u5341\u516D\u5206\u97F3\u7B26\u90E8\u5206\uFF08\u65E0\u524D\u540E\u5341\u516D\u5927\u5207\u5206\uFF09"],fromList:["4x/\u524D\u540E\u5341\u516D\u5927\u5207\u5206"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"},{type:"OnlyAllowPatternsWhenEndingAt",whenEndingAtBeat:29,whatPatterns:["4x/\u56DB\u5206"]}]}}]},\u521D\u4E09\u8868\u6F14\u4E13\u4E1A\u56DB\u4E09\u62CD\u8BFB\u8C31:{scoreInsertions:{0:"[M: 3/4] [Q: 1/4=72]",1:"|"},pieceLength:30,layout:{B1:{start:1,end:4},B2:{start:4,end:7},B3:{start:7,end:10},B4:{start:10,end:13},B5:{start:13,end:16},B6:{start:16,end:19},B7:{start:19,end:22},B8:{start:22,end:25},B9:{start:25,end:28},B10:{start:28,end:30},B1\u4E0D\u542B\u7B2C\u4E00\u62CD:{start:2,end:4},B0:{start:0,end:1},B10\u7B2C\u4E00\u62CD:{start:28,end:29},B10\u5269\u4E0B\u7684\u4E00\u62CD:{start:29,end:30}},actions:[{type:"RandomPick",maxLength:1,fromList:["4x/\u56DB\u5206"],in:"B10\u7B2C\u4E00\u62CD",constraints:[{type:"UsageCountGroup",name:"MainGroup"}]},{type:"RandomPick",fromList:["4x/\u7A7A\u4E8C\u516B","4x/\u7A7A\u540E\u5341\u516D","4x/\u7A7A\u56DB\u5341\u516D"],in:"B0",maxLength:3,fromCategories:["4x/\u4E00\u62CD\u57FA\u672C\u8282\u594F"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9"],length:2,do:{type:"RandomPick",fromCategories:["4x/\u56DB\u5206\u8FDE\u7EBF"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9"],length:2,do:{type:"RandomPick",fromCategories:["4x/\u4E8C\u516B\u8FDE\u7EBF"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1\u4E0D\u542B\u7B2C\u4E00\u62CD","B2","B3","B4","B5","B6","B7","B8","B9"],length:1,do:{type:"RandomPick",fromList:["4x/\u56DB\u5206\u4F11\u6B62"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1\u4E0D\u542B\u7B2C\u4E00\u62CD","B2","B3","B4","B5","B6","B7","B8","B9"],length:1,do:{type:"RandomPick",fromList:["4x/\u7A7A\u4E8C\u516B","4x/\u7A7A\u540E\u5341\u516D","4x/\u7A7A\u5927\u5207\u5206","4x/\u7A7A\u540E\u5927\u9644\u70B9"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1\u4E0D\u542B\u7B2C\u4E00\u62CD","B2","B3","B4","B5","B6","B7","B8","B9"],length:1,do:{type:"RandomPick",fromList:["4x/\u7A7A\u56DB\u5341\u516D"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"FillEachBlank",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9"],with:{type:"RandomPick",fromCategories:["4x/\u4E00\u62CD\u57FA\u672C\u8282\u594F","4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u65E0\u5341\u516D\u5206","4x/\u4E24\u62CD\u57FA\u672C\u8282\u594F-\u5341\u516D\u5206\u97F3\u7B26\u90E8\u5206\uFF08\u65E0\u524D\u540E\u5341\u516D\u5927\u5207\u5206\uFF09"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}],fromList:["4x/\u524D\u540E\u5341\u516D\u5927\u5207\u5206"]}},{type:"RandomPick",fromList:["4x/\u56DB\u5206\u4F11\u6B62"],maxLength:1,in:"B10\u5269\u4E0B\u7684\u4E00\u62CD"}]},\u521D\u4E09\u8868\u6F14\u4E13\u4E1A\u516B\u516D\u62CD\u8BFB\u8C31:{scoreInsertions:{0:"[M: 6/8] [Q: 3/8=48]"},pieceLength:30,layout:{B1:{start:0,end:3},B2:{start:3,end:6},B3:{start:6,end:9},B4:{start:9,end:12},B5:{start:12,end:15},B6:{start:15,end:18},B7:{start:18,end:21},B8:{start:21,end:24},B9:{start:24,end:27},B10:{start:27,end:30}},actions:[{type:"ChooseARandomPosition",in:["B2","B3","B4","B5","B6","B7","B8","B9"],length:3,do:{type:"RandomPick",fromList:["8x/\u524D\u7A7A\u4E09\u4E2A\u516B"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9"],length:3,do:{type:"RandomPick",fromCategories:["8x/\u542B\u5C0F\u9644\u70B9"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9"],length:3,do:{type:"RandomPick",fromCategories:["8x/\u542B\u540E\u5C0F\u9644\u70B9"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9"],length:3,do:{type:"RandomPick",fromCategories:["8x/\u542B\u5C0F\u5207\u5206"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9"],length:3,do:{type:"RandomPick",fromList:["8x/\u8FDE\u5207"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9"],length:3,do:{type:"RandomPick",fromList:["8x/\u4E8C\u516B\u5341\u516D","8x/\u516B\u5341\u516D\u516B","8x/\u5341\u516D\u4E8C\u516B"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"ChooseARandomPosition",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9"],length:3,do:{type:"RandomPick",fromList:["8x/\u516B\u56DB\u5341\u516D","8x/\u56DB\u5341\u516D\u516B","8x/\u5341\u516D\u516B\u5341\u516D"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}},{type:"RandomPick",in:"B10",fromList:["8x/\u56DB\u516B\u7A7A","8x/\u516B\u56DB\u7A7A","8x/\u516B\u56DB","8x/\u56DB\u516B"],maxLength:3,constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]},{type:"FillEachBlank",in:["B1","B2","B3","B4","B5","B6","B7","B8","B9"],with:{type:"RandomPick",fromCategories:["8x/\u5E73\u5747\u8282\u594F\u578B"],constraints:[{type:"UsageCountGroup",name:"MainGroup"},{type:"RejectPatternWithUsageCount",level:"piece",groupName:"MainGroup",comparator:">=",value:"maxAutoBalance"}]}}]}},ze={\u521D\u4E00\u8868\u6F14\u4E13\u4E1A\u56DB\u4E8C\u62CD\u542C\u519920\u6761:[{ruleSetName:"\u521D\u4E00\u8868\u6F14\u4E13\u4E1A\u56DB\u4E8C\u62CD\u542C\u5199",amount:20}],\u521D\u4E00\u8868\u6F14\u4E13\u4E1A\u56DB\u4E09\u62CD\u542C\u519920\u6761:[{ruleSetName:"\u521D\u4E00\u8868\u6F14\u4E13\u4E1A\u56DB\u4E09\u62CD\u542C\u5199",amount:20}],\u521D\u4E8C\u8868\u6F14\u4E13\u4E1A\u56DB\u56DB\u62CD\u542C\u519920\u6761:[{ruleSetName:"\u521D\u4E8C\u8868\u6F14\u4E13\u4E1A\u56DB\u56DB\u62CD\u542C\u5199",amount:20}],\u521D\u4E8C\u8868\u6F14\u4E13\u4E1A\u56DB\u4E09\u62CD\u542C\u519920\u6761:[{ruleSetName:"\u521D\u4E8C\u8868\u6F14\u4E13\u4E1A\u56DB\u4E09\u62CD\u542C\u5199",amount:20}],\u521D\u4E09\u8868\u6F14\u4E13\u4E1A\u56DB\u56DB\u62CD\u542C\u519920\u6761:[{ruleSetName:"\u521D\u4E09\u8868\u6F14\u4E13\u4E1A\u56DB\u56DB\u62CD\u542C\u5199",amount:20}],\u521D\u4E09\u8868\u6F14\u4E13\u4E1A\u56DB\u4E09\u62CD\u542C\u519920\u6761:[{ruleSetName:"\u521D\u4E09\u8868\u6F14\u4E13\u4E1A\u56DB\u4E09\u62CD\u542C\u5199",amount:20}],\u521D\u4E09\u8868\u6F14\u4E13\u4E1A\u516B\u4E09\u62CD\u542C\u519920\u6761:[{ruleSetName:"\u521D\u4E09\u8868\u6F14\u4E13\u4E1A\u516B\u4E09\u62CD\u542C\u5199",amount:20}],\u521D\u4E00\u8868\u6F14\u4E13\u4E1A\u56DB\u56DB\u62CD\u8BFB\u8C3120\u6761:[{ruleSetName:"\u521D\u4E00\u8868\u6F14\u4E13\u4E1A\u56DB\u56DB\u62CD\u8BFB\u8C31",amount:20}],\u521D\u4E00\u8868\u6F14\u4E13\u4E1A\u56DB\u4E09\u62CD\u8BFB\u8C3120\u6761:[{ruleSetName:"\u521D\u4E00\u8868\u6F14\u4E13\u4E1A\u56DB\u4E09\u62CD\u8BFB\u8C31",amount:20}],\u521D\u4E00\u8868\u6F14\u4E13\u4E1A\u516B\u4E09\u62CD\u8BFB\u8C3120\u6761:[{ruleSetName:"\u521D\u4E00\u8868\u6F14\u4E13\u4E1A\u516B\u4E09\u62CD\u8BFB\u8C31",amount:20}],\u521D\u4E8C\u8868\u6F14\u4E13\u4E1A\u56DB\u56DB\u62CD\u8BFB\u8C3120\u6761:[{ruleSetName:"\u521D\u4E8C\u8868\u6F14\u4E13\u4E1A\u56DB\u56DB\u62CD\u8BFB\u8C31",amount:20}],\u521D\u4E8C\u8868\u6F14\u4E13\u4E1A\u56DB\u4E09\u62CD\u8BFB\u8C3120\u6761:[{ruleSetName:"\u521D\u4E8C\u8868\u6F14\u4E13\u4E1A\u56DB\u4E09\u62CD\u8BFB\u8C31",amount:20}],\u521D\u4E8C\u8868\u6F14\u4E13\u4E1A\u516B\u516D\u62CD\u8BFB\u8C3120\u6761:[{ruleSetName:"\u521D\u4E8C\u8868\u6F14\u4E13\u4E1A\u516B\u516D\u62CD\u8BFB\u8C31",amount:20}],\u521D\u4E09\u8868\u6F14\u4E13\u4E1A\u56DB\u56DB\u62CD\u8BFB\u8C3120\u6761:[{ruleSetName:"\u521D\u4E09\u8868\u6F14\u4E13\u4E1A\u56DB\u56DB\u62CD\u8BFB\u8C31",amount:20}],\u521D\u4E09\u8868\u6F14\u4E13\u4E1A\u56DB\u4E09\u62CD\u8BFB\u8C3120\u6761:[{ruleSetName:"\u521D\u4E09\u8868\u6F14\u4E13\u4E1A\u56DB\u4E09\u62CD\u8BFB\u8C31",amount:20}],\u521D\u4E09\u8868\u6F14\u4E13\u4E1A\u516B\u516D\u62CD\u8BFB\u8C3120\u6761:[{ruleSetName:"\u521D\u4E09\u8868\u6F14\u4E13\u4E1A\u516B\u516D\u62CD\u8BFB\u8C31",amount:20}]},Te="\u73B0\u5B58\u95EE\u9898\uFF1A\u5F00\u5934\u7B2C\u4E00\u62CD\u7528\u4E86\u7A7A\u62CD\u8282\u594F\u7684\u8BDD\uFF0C\u6574\u6761\u4F1A\u591A\u4E00\u4E2A\u7A7A\u62CD\u8282\u594F",$e={patterns:Oe,categories:Fe,ruleSets:qe,batchPresets:ze,comments:Te},W=je("config",()=>{const t=E({patterns:{},categories:{},ruleSets:{}});t.value=$e;const{open:e,reset:o,onChange:r}=Ra({accept:".yaml,.yml,text/vnd.yaml"});r(p=>{var m;p&&((m=p.item(0))==null||m.text().then(s=>{t.value=fe.parse(s)}).catch(s=>{Ga.alert(ka("pre",{class:"err-msg-box",style:{whiteSpace:"pre-wrap"}},`\u6253\u5F00\u6587\u4EF6\u65F6\u9047\u5230\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u6587\u4EF6\u662F\u5426\u6B63\u786E\u3002
\u9519\u8BEF\u4FE1\u606F\uFF1A
${s}`),"\u9519\u8BEF",{type:"error"})}).finally(()=>o()))});function l(){e()}function u(){const p=fe.stringify(t.value);ve(p,"config.yaml")}return{config:t,load:l,save:u}});function be(t,e,o=!1){return t.map((r,l)=>{const u=e.ruleSets[r.ruleSetName];return`
X: ${l}
V: T1 name=${l+1} stem=up
K: none ${o?"":"perc stafflines=1 middle=A"}
L: 1/16
${Qe(r,e,u)} |]
`}).join("")}function Qe(t,e,o){let r=0,l=null;return t.beats.map((u,p)=>{const m=e.patterns[u.patternName];let s="";if(p in o.scoreInsertions){const B=o.scoreInsertions[p],d=B.match(/\[M: ?(\d+?)\/(\d+?)]/);d!==null?(l={upper:Number.parseInt(d[1]),lower:Number.parseInt(d[2])},r!==0&&!B.includes("|")&&(s+="| "),r=0):B.includes("|")&&(r=0),s+=B}return l&&r%l.upper===0&&r>0&&!s.includes("|")&&(s="| "+s),r++,`${s} `+(u.offset===0?m.displayAbc:"")}).join(" ")}const De=""+new URL("rhythmologist_core_bg-CcRWsXa0.wasm",import.meta.url).href,Ke=async(t={},e)=>{let o;if(e.startsWith("data:")){const r=e.replace(/^data:.*?base64,/,"");let l;if(typeof Buffer=="function"&&typeof Buffer.from=="function")l=Buffer.from(r,"base64");else if(typeof atob=="function"){const u=atob(r);l=new Uint8Array(u.length);for(let p=0;p<u.length;p++)l[p]=u.charCodeAt(p)}else throw new Error("Cannot decode base64-encoded data URL");o=await WebAssembly.instantiate(l,t)}else{const r=await fetch(e),l=r.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&l.startsWith("application/wasm"))o=await WebAssembly.instantiateStreaming(r,t);else{const u=await r.arrayBuffer();o=await WebAssembly.instantiate(u,t)}}return o.instance.exports};let M;function Xe(t){M=t}const T=new Array(128).fill(void 0);T.push(void 0,null,!0,!1);function P(t){return T[t]}let ee=T.length;function Je(t){t<132||(T[t]=ee,ee=t)}function te(t){const e=P(t);return Je(t),e}const He=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder;let Ce=new He("utf-8",{ignoreBOM:!0,fatal:!0});Ce.decode();let ae=null;function ne(){return(ae===null||ae.byteLength===0)&&(ae=new Uint8Array(M.memory.buffer)),ae}function oe(t,e){return t=t>>>0,Ce.decode(ne().subarray(t,t+e))}function k(t){ee===T.length&&T.push(T.length+1);const e=ee;return ee=T[e],T[e]=t,e}let le=0;const Ye=typeof TextEncoder>"u"?(0,module.require)("util").TextEncoder:TextEncoder;let re=new Ye("utf-8");const Ze=typeof re.encodeInto=="function"?function(t,e){return re.encodeInto(t,e)}:function(t,e){const o=re.encode(t);return e.set(o),{read:t.length,written:o.length}};function Pe(t,e,o){if(o===void 0){const m=re.encode(t),s=e(m.length,1)>>>0;return ne().subarray(s,s+m.length).set(m),le=m.length,s}let r=t.length,l=e(r,1)>>>0;const u=ne();let p=0;for(;p<r;p++){const m=t.charCodeAt(p);if(m>127)break;u[l+p]=m}if(p!==r){p!==0&&(t=t.slice(p)),l=o(l,r,r=p+t.length*3,1)>>>0;const m=ne().subarray(l+p,l+r),s=Ze(t,m);p+=s.written,l=o(l,r,p,1)>>>0}return le=p,l}let ie=null;function H(){return(ie===null||ie.byteLength===0)&&(ie=new Int32Array(M.memory.buffer)),ie}function et(t){try{const l=M.__wbindgen_add_to_stack_pointer(-16),u=Pe(t,M.__wbindgen_malloc,M.__wbindgen_realloc),p=le;M.parse_config_json(l,u,p);var e=H()[l/4+0],o=H()[l/4+1],r=H()[l/4+2];if(r)throw te(o);return ue.__wrap(e)}finally{M.__wbindgen_add_to_stack_pointer(16)}}function tt(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`);return t.ptr}function at(t,e){let o,r;try{const d=M.__wbindgen_add_to_stack_pointer(-16);tt(t,ue);const A=Pe(e,M.__wbindgen_malloc,M.__wbindgen_realloc),f=le;M.generate_batch_json(d,t.__wbg_ptr,A,f);var l=H()[d/4+0],u=H()[d/4+1],p=H()[d/4+2],m=H()[d/4+3],s=l,B=u;if(m)throw s=0,B=0,te(p);return o=s,r=B,oe(s,B)}finally{M.__wbindgen_add_to_stack_pointer(16),M.__wbindgen_free(o,r,1)}}function $(t,e){try{return t.apply(this,e)}catch(o){M.__wbindgen_exn_store(k(o))}}typeof FinalizationRegistry>"u"||new FinalizationRegistry(t=>M.__wbg_config_free(t>>>0));const Re=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>M.__wbg_ir_free(t>>>0));class ue{static __wrap(e){e=e>>>0;const o=Object.create(ue.prototype);return o.__wbg_ptr=e,Re.register(o,o.__wbg_ptr,o),o}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Re.unregister(this),e}free(){const e=this.__destroy_into_raw();M.__wbg_ir_free(e)}}function nt(t){te(t)}function ot(t,e){const o=oe(t,e);return k(o)}function lt(t){const e=P(t).crypto;return k(e)}function rt(t){const e=P(t);return typeof e=="object"&&e!==null}function it(t){const e=P(t).process;return k(e)}function ut(t){const e=P(t).versions;return k(e)}function st(t){const e=P(t).node;return k(e)}function pt(t){return typeof P(t)=="string"}function ct(){return $(function(){const t=module.require;return k(t)},arguments)}function dt(t){return typeof P(t)=="function"}function mt(t){const e=P(t).msCrypto;return k(e)}function Bt(){return $(function(t,e){P(t).randomFillSync(te(e))},arguments)}function gt(){return $(function(t,e){P(t).getRandomValues(P(e))},arguments)}function yt(t,e){const o=new Function(oe(t,e));return k(o)}function ft(){return $(function(t,e){const o=P(t).call(P(e));return k(o)},arguments)}function ht(t){const e=P(t);return k(e)}function xt(){return $(function(){const t=self.self;return k(t)},arguments)}function At(){return $(function(){const t=window.window;return k(t)},arguments)}function _t(){return $(function(){const t=globalThis.globalThis;return k(t)},arguments)}function vt(){return $(function(){const t=global.global;return k(t)},arguments)}function bt(t){return P(t)===void 0}function Ct(){return $(function(t,e,o){const r=P(t).call(P(e),P(o));return k(r)},arguments)}function Pt(t){const e=P(t).buffer;return k(e)}function Rt(t,e,o){const r=new Uint8Array(P(t),e>>>0,o>>>0);return k(r)}function Gt(t){const e=new Uint8Array(P(t));return k(e)}function kt(t,e,o){P(t).set(P(e),o>>>0)}function wt(t){const e=new Uint8Array(t>>>0);return k(e)}function Ut(t,e,o){const r=P(t).subarray(e>>>0,o>>>0);return k(r)}function Mt(t,e){throw new Error(oe(t,e))}function Vt(){const t=M.memory;return k(t)}URL=globalThis.URL;const I=await Ke({"./rhythmologist_core_bg.js":{__wbindgen_object_drop_ref:nt,__wbindgen_string_new:ot,__wbg_crypto_1d1f22824a6a080c:lt,__wbindgen_is_object:rt,__wbg_process_4a72847cc503995b:it,__wbg_versions_f686565e586dd935:ut,__wbg_node_104a2ff8d6ea03a2:st,__wbindgen_is_string:pt,__wbg_require_cca90b1a94a0255b:ct,__wbindgen_is_function:dt,__wbg_msCrypto_eb05e62b530a1508:mt,__wbg_randomFillSync_5c9c955aa56b6049:Bt,__wbg_getRandomValues_3aa56aa6edec874c:gt,__wbg_newnoargs_e258087cd0daa0ea:yt,__wbg_call_27c0f87801dedf93:ft,__wbindgen_object_clone_ref:ht,__wbg_self_ce0dbfc45cf2f5be:xt,__wbg_window_c6fb939a7f436783:At,__wbg_globalThis_d1e6af4856ba331b:_t,__wbg_global_207b558942527489:vt,__wbindgen_is_undefined:bt,__wbg_call_b3ca7c6051f9bec1:Ct,__wbg_buffer_12d079cc21e14bdb:Pt,__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb:Rt,__wbg_new_63b92bc8671ed464:Gt,__wbg_set_a47bac70306a19a7:kt,__wbg_newwithlength_e9b4878cebadb3d3:wt,__wbg_subarray_a1f73cd4b5b42fe1:Ut,__wbindgen_throw:Mt,__wbindgen_memory:Vt}},De),Nt=I.memory,Et=I.__wbg_config_free,Lt=I.parse_config_json,jt=I.generate_batch_yaml,St=I.generate_batch_json,Wt=I.__wbg_ir_free,It=I.__wbindgen_add_to_stack_pointer,Ot=I.__wbindgen_malloc,Ft=I.__wbindgen_realloc,qt=I.__wbindgen_free,zt=I.__wbindgen_exn_store,Tt=Object.freeze(Object.defineProperty({__proto__:null,__wbg_config_free:Et,__wbg_ir_free:Wt,__wbindgen_add_to_stack_pointer:It,__wbindgen_exn_store:zt,__wbindgen_free:qt,__wbindgen_malloc:Ot,__wbindgen_realloc:Ft,generate_batch_json:St,generate_batch_yaml:jt,memory:Nt,parse_config_json:Lt},Symbol.toStringTag,{value:"Module"}));Xe(Tt);const ce=!0,se=je("appStatus",()=>{const t=W(),e=E("prebuilt-config"),o=E(""),r=E([]),l=E(""),u=E(null);wa(()=>{try{u.value=et(JSON.stringify(t.config)),e.value=ce?"prebuilt-config":"editing"}catch(B){u.value=null,l.value=B.toString(),e.value="prebuilt-config"}});function p(){e.value="prebuilt-config"}function m(){if(u.value!==null){r.value=[],e.value="running";try{const B=at(u.value,o.value);r.value=JSON.parse(B),e.value="result"}catch(B){l.value=B.toString(),e.value="exec-err"}}}function s(B=!1){const d=be(r.value,t.config,B);ve(d,"generation.abc")}return{currentStep:e,selectedPresetName:o,generationResult:r,errorMsg:l,configParsed:u,edit:p,run:m,exportAbc:s}}),X=Symbol("keyForXObjArray");function Ge(t){return t[X]||(t[X]=Symbol()),t[X]}const $t={style:{"margin-bottom":"8px"}},Qt={style:{"margin-bottom":"8px"}},Dt=U({__name:"ConfigChildItemList",props:Q({defaultNewItemValue:{},dialogTitle:{default:""},dialogPrompt:{default:""},dialogErrorText:{default:""},disableScroll:{type:Boolean,default:!0},retrieveKey:{type:Function,default:(t,e)=>e}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=D(t,"modelValue"),o=t,r=E(!1),l=E(""),u=K(()=>!(l.value in e.value)&&l.value.length>0);function p(){Array.isArray(e.value)?e.value.push(o.defaultNewItemValue()):(e.value[l.value]=o.defaultNewItemValue(),l.value="",r.value=!1)}function m(){Array.isArray(e.value)?p():r.value=!0}function s(f){Array.isArray(e.value)?e.value.splice(f,1):delete e.value[f]}function B(f){if(Array.isArray(e.value)){const y=o.defaultNewItemValue();typeof e.value[f][X]<"u"&&(y[X]=e.value[f][X]),e.value[f]=y}else e.value[f]=o.defaultNewItemValue()}function d(f){if(Array.isArray(e.value)){let y=e.value.splice(f,1);e.value.splice(f-1,0,...y)}}function A(f){if(Array.isArray(e.value)){let y=e.value.splice(f,1);e.value.splice(f+1,0,...y)}}return(f,y)=>{const G=i("ElIcon"),O=i("ElButton"),F=i("ElForm"),N=i("ElCollapseItem"),j=i("ElCollapse"),x=i("ElScrollbar"),b=i("ElInput"),w=i("ElText"),Le=i("el-button"),Pa=i("ElDialog");return g(),v(C,null,[R("div",{class:Va({"disable-scroll":o.disableScroll}),style:{display:"flex","flex-direction":"column"}},[R("div",$t,[a(O,{onClick:y[0]||(y[0]=q=>m())},{default:n(()=>[a(G,null,{default:n(()=>[a(c(Ua))]),_:1})]),_:1}),he(f.$slots,"customActions",{},void 0,!0)]),a(x,{style:{"padding-right":"10px"}},{default:n(()=>[a(j,null,{default:n(()=>[(g(!0),v(C,null,L(e.value,(q,z)=>(g(),h(N,{key:f.retrieveKey(q,z)},{title:n(()=>[he(f.$slots,"itemTitle",{item:q,key:z},()=>[_(S(z),1)],!0),Array.isArray(e.value)?(g(),v(C,{key:0},[z!==0?(g(),h(G,{key:0,class:"icon",onClick:J(ye=>d(z),["stop"])},{default:n(()=>[a(c(Se))]),_:2},1032,["onClick"])):V("",!0),z<e.value.length-1?(g(),h(G,{key:1,class:"icon",onClick:J(ye=>A(z),["stop"])},{default:n(()=>[a(c(We))]),_:2},1032,["onClick"])):V("",!0)],64)):V("",!0),a(G,{class:"icon",onClick:J(ye=>B(z),["stop"])},{default:n(()=>[a(c(Ma))]),_:2},1032,["onClick"]),a(G,{class:"icon",onClick:J(ye=>s(z),["stop"])},{default:n(()=>[a(c(xe))]),_:2},1032,["onClick"])]),default:n(()=>[a(F,{"label-position":"top"},{default:n(()=>[he(f.$slots,"default",{item:q,key:z},void 0,!0)]),_:2},1024)]),_:2},1024))),128))]),_:3})]),_:3})],2),a(Pa,{modelValue:r.value,"onUpdate:modelValue":y[4]||(y[4]=q=>r.value=q),title:o.dialogTitle},{footer:n(()=>[R("span",null,[a(Le,{onClick:y[2]||(y[2]=q=>r.value=!1)},{default:n(()=>[_("\u53D6\u6D88")]),_:1}),a(Le,{type:"primary",disabled:!u.value,onClick:y[3]||(y[3]=q=>p())},{default:n(()=>[_(" \u6DFB\u52A0 ")]),_:1},8,["disabled"])])]),default:n(()=>[R("div",Qt,S(o.dialogPrompt),1),a(b,{modelValue:l.value,"onUpdate:modelValue":y[1]||(y[1]=q=>l.value=q)},null,8,["modelValue"]),Ae(a(w,{type:"danger"},{default:n(()=>[_(S(o.dialogErrorText),1)]),_:1},512),[[_e,!u.value]])]),_:1},8,["modelValue","title"])],64)}}}),ke=(t,e)=>{const o=t.__vccOpts||t;for(const[r,l]of e)o[r]=l;return o},Y=ke(Dt,[["__scopeId","data-v-6ef516a3"]]),Kt="modulepreload",Xt=function(t,e){return new URL(t,e).href},we={},Ue=function(t,e,o){let r=Promise.resolve();if(e&&e.length>0){const l=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),p=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=Promise.all(e.map(m=>{if(m=Xt(m,o),m in we)return;we[m]=!0;const s=m.endsWith(".css"),B=s?'[rel="stylesheet"]':"";if(o)for(let A=l.length-1;A>=0;A--){const f=l[A];if(f.href===m&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${m}"]${B}`))return;const d=document.createElement("link");if(d.rel=s?"stylesheet":Kt,s||(d.as="script",d.crossOrigin=""),d.href=m,p&&d.setAttribute("nonce",p),document.head.appendChild(d),s)return new Promise((A,f)=>{d.addEventListener("load",A),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${m}`)))})}))}return r.then(()=>t()).catch(l=>{const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l})},Me=Object.assign({"./4x-1beat-basic.json":()=>Ue(()=>import("./4x-1beat-basic-DQjnCmK2.js"),[],import.meta.url),"./8x-3beat-basic.json":()=>Ue(()=>import("./8x-3beat-basic-BO-0meST.js"),[],import.meta.url)}),de=U({__name:"AbcNotationRenderer",props:{score:{},count:{},customParams:{default:{staffwidth:800}}},setup(t){const e=t,o=E(null);function r(){if(o.value){const l=new Array(e.count).fill(null).map(()=>document.createElement("div"));La.renderAbc(l,e.score,Object.assign({staffwidth:800,expandToWidest:!0,wrap:{minSpacing:1,maxSpacing:2.7,preferredMeasuresPerLine:4}},e.customParams)),o.value.replaceChildren(...l)}}return Na(()=>{Ea(()=>{r()})}),(l,u)=>(g(),v("div",{ref_key:"abcContainer",ref:o},null,512))}}),me=U({__name:"PatternNameLabel",props:{ident:{},pattern:{},size:{default:"regular"}},setup(t){const e=t,o=K(()=>e.size=="regular"?"150px":"80px");return(r,l)=>(g(),v(C,null,[_(S(r.ident)+" ",1),a(de,{score:`
X: 0
V: T1 stem=up
K: none perc stafflines=1 middle=A
L: 1/16
${r.pattern.displayAbc||""}
`,count:1,"custom-params":{staffwidth:200,responsive:"resize"},style:ja({width:o.value,display:"inline-block"})},null,8,["score","style"])],64))}}),Jt=U({__name:"PatternsPane",setup(t){const e=W();function o(r){Me[r]().then(({patterns:l})=>{Object.assign(e.config.patterns,l)})}return(r,l)=>{const u=i("el-icon"),p=i("el-button"),m=i("el-dropdown-item"),s=i("el-dropdown-menu"),B=i("el-dropdown"),d=i("ElInputNumber"),A=i("ElFormItem"),f=i("ElInput");return g(),h(Y,{modelValue:c(e).config.patterns,"onUpdate:modelValue":l[0]||(l[0]=y=>c(e).config.patterns=y),"default-new-item-value":()=>({length:1}),"dialog-title":"\u6DFB\u52A0\u8282\u594F\u578B","dialog-prompt":"\u8BF7\u4E3A\u8282\u594F\u578B\u8BBE\u5B9A\u4E00\u4E2A\u552F\u4E00\u7684\u6807\u8BC6\u540D\u79F0\uFF0C\u6B64\u540D\u79F0\u4F1A\u5728\u5176\u4ED6\u5730\u65B9\u7528\u4E8E\u6307\u4EE3\u6B64\u8282\u594F\u578B\u3002","dialog-error-text":"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A\u6216\u4E0E\u73B0\u6709\u8282\u594F\u578B\u91CD\u590D\u3002"},{customActions:n(()=>[a(B,{style:{"margin-left":"8px"},onCommand:o},{dropdown:n(()=>[a(s,null,{default:n(()=>[(g(!0),v(C,null,L(Object.keys(c(Me)),y=>(g(),h(m,{key:y,command:y},{default:n(()=>[_(S(y.substring(2,y.length-5)),1)]),_:2},1032,["command"]))),128))]),_:1})]),default:n(()=>[a(p,null,{default:n(()=>[_(" \u5BFC\u5165\u8282\u594F\u578B "),a(u,{class:"el-icon--right"},{default:n(()=>[a(c(Sa))]),_:1})]),_:1})]),_:1})]),itemTitle:n(({item:y,key:G})=>[a(me,{ident:G,pattern:y},null,8,["ident","pattern"])]),default:n(({item:y})=>[a(A,{label:"\u957F\u5EA6length",required:""},{default:n(()=>[a(d,{modelValue:y.length,"onUpdate:modelValue":G=>y.length=G},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(A,{label:"\u663E\u793A\u540D\u79F0displayName"},{default:n(()=>[a(f,{modelValue:y.displayName,"onUpdate:modelValue":G=>y.displayName=G},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(A,{label:"ABC\u683C\u5F0F\u663E\u793A\u5185\u5BB9displayAbc (\u9ED8\u8BA4L: 1/16)"},{default:n(()=>[a(f,{modelValue:y.displayAbc,"onUpdate:modelValue":G=>y.displayAbc=G},null,8,["modelValue","onUpdate:modelValue"]),a(de,{score:`
X: 0
V: T1 stem=up
K: none perc stafflines=1 middle=A
L: 1/16
${y.displayAbc?y.displayAbc:""}
`,count:1},null,8,["score"])]),_:2},1024)]),_:1},8,["modelValue"])}}}),Be=U({__name:"PatternSelector",props:Q({allPatterns:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=D(t,"modelValue");return(o,r)=>{const l=i("ElOption"),u=i("el-tag"),p=i("ElSelect");return g(),h(p,{modelValue:e.value,"onUpdate:modelValue":r[0]||(r[0]=m=>e.value=m),multiple:"",filterable:""},{tag:n(()=>[(g(!0),v(C,null,L(e.value,(m,s)=>(g(),h(u,{type:"info",closable:"",size:"default",key:m,onClose:B=>e.value.splice(s,1)},{default:n(()=>[a(me,{ident:m,pattern:o.allPatterns[m],size:"small"},null,8,["ident","pattern"])]),_:2},1032,["onClose"]))),128))]),default:n(()=>[(g(!0),v(C,null,L(o.allPatterns,(m,s)=>(g(),h(l,{key:s,label:s,value:s},{default:n(()=>[a(me,{ident:s,pattern:m,size:"small"},null,8,["ident","pattern"])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])}}}),Ht=U({__name:"CategoriesPane",setup(t){const e=W();return(o,r)=>{const l=i("ElFormItem");return g(),h(Y,{modelValue:c(e).config.categories,"onUpdate:modelValue":r[0]||(r[0]=u=>c(e).config.categories=u),"default-new-item-value":()=>[],"dialog-title":"\u6DFB\u52A0\u7C7B\u522B","dialog-prompt":"\u8BF7\u4E3A\u8282\u594F\u578B\u7C7B\u522B\u8BBE\u5B9A\u4E00\u4E2A\u552F\u4E00\u7684\u6807\u8BC6\u540D\u79F0\uFF0C\u6B64\u540D\u79F0\u4F1A\u5728\u5176\u4ED6\u5730\u65B9\u7528\u4E8E\u6307\u4EE3\u6B64\u7C7B\u522B\u3002","dialog-error-text":"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A\u6216\u4E0E\u73B0\u6709\u7C7B\u522B\u540D\u91CD\u590D\u3002"},{default:n(({key:u})=>[a(l,{required:""},{default:n(()=>[a(Be,{"all-patterns":c(e).config.patterns,modelValue:c(e).config.categories[u],"onUpdate:modelValue":p=>c(e).config.categories[u]=p},null,8,["all-patterns","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:1},8,["modelValue"])}}}),Yt=U({__name:"FillEachBlankActionView",props:Q({parentRuleSet:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=D(t,"modelValue"),o=t;return(r,l)=>{const u=i("ElOption"),p=i("ElSelect"),m=i("ElFormItem"),s=i("ElCard");return e.value?(g(),v(C,{key:0},[a(m,{label:"\u533A\u57DF\u8303\u56F4in",required:""},{default:n(()=>[a(p,{modelValue:e.value.in,"onUpdate:modelValue":l[0]||(l[0]=B=>e.value.in=B),multiple:"",filterable:""},{default:n(()=>[(g(!0),v(C,null,L(o.parentRuleSet.layout,(B,d)=>(g(),h(u,{key:d,label:d,value:d},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(m,{label:"\u8C03\u7528\u52A8\u4F5Cwith",required:""},{default:n(()=>[a(s,{shadow:"never",style:{width:"100%"},class:"card-remove-last-margin-bottom"},{default:n(()=>[a(pe,{modelValue:e.value.with,"onUpdate:modelValue":l[1]||(l[1]=B=>e.value.with=B),mode:"action","parent-rule-set":r.parentRuleSet},null,8,["modelValue","parent-rule-set"])]),_:1})]),_:1})],64)):V("",!0)}}}),Zt=U({__name:"ChooseARandomPositionActionView",props:Q({parentRuleSet:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=D(t,"modelValue"),o=t;return(r,l)=>{const u=i("ElOption"),p=i("ElSelect"),m=i("ElFormItem"),s=i("ElInputNumber"),B=i("ElCard");return e.value?(g(),v(C,{key:0},[a(m,{label:"\u533A\u57DF\u8303\u56F4in",required:""},{default:n(()=>[a(p,{modelValue:e.value.in,"onUpdate:modelValue":l[0]||(l[0]=d=>e.value.in=d),multiple:"",filterable:""},{default:n(()=>[(g(!0),v(C,null,L(o.parentRuleSet.layout,(d,A)=>(g(),h(u,{key:A,label:A,value:A},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(m,{label:"\u957F\u5EA6length",required:""},{default:n(()=>[a(s,{modelValue:e.value.length,"onUpdate:modelValue":l[1]||(l[1]=d=>e.value.length=d)},null,8,["modelValue"])]),_:1}),a(m,{label:"\u8C03\u7528\u52A8\u4F5Cdo",required:""},{default:n(()=>[a(B,{shadow:"never",style:{width:"100%"},class:"card-remove-last-margin-bottom"},{default:n(()=>[a(pe,{modelValue:e.value.do,"onUpdate:modelValue":l[2]||(l[2]=d=>e.value.do=d),mode:"action","parent-rule-set":r.parentRuleSet},null,8,["modelValue","parent-rule-set"])]),_:1})]),_:1})],64)):V("",!0)}}}),Ve=U({__name:"RandomPickActionView",props:Q({parentRuleSet:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=W(),o=D(t,"modelValue"),r=t;return(l,u)=>{const p=i("ElOption"),m=i("ElSelect"),s=i("ElButton"),B=i("ElFormItem"),d=i("ElInputNumber"),A=i("ElCard");return o.value?(g(),v(C,{key:0},[a(B,{label:"\u4ECE\u5206\u7C7B\u4E2D\u9009\u53D6\u8282\u594F\u578BfromCategories"},{default:n(()=>[o.value.fromCategories?(g(),h(m,{key:0,modelValue:o.value.fromCategories,"onUpdate:modelValue":u[0]||(u[0]=f=>o.value.fromCategories=f),multiple:"",filterable:""},{default:n(()=>[(g(!0),v(C,null,L(c(e).config.categories,(f,y)=>(g(),h(p,{key:y,label:y,value:y},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):(g(),h(s,{key:1,onClick:u[1]||(u[1]=f=>o.value.fromCategories=[])},{default:n(()=>[_("\u521B\u5EFA")]),_:1}))]),_:1}),a(B,{label:"\u4ECE\u6B64\u5217\u8868\u4E2D\u9009\u53D6\u8282\u594F\u578BfromList"},{default:n(()=>[o.value.fromList?(g(),h(Be,{key:0,modelValue:o.value.fromList,"onUpdate:modelValue":u[2]||(u[2]=f=>o.value.fromList=f),"all-patterns":c(e).config.patterns},null,8,["modelValue","all-patterns"])):(g(),h(s,{key:1,onClick:u[3]||(u[3]=f=>o.value.fromList=[])},{default:n(()=>[_("\u521B\u5EFA")]),_:1}))]),_:1}),a(B,{label:"\u6700\u5927\u957F\u5EA6maxLength"},{default:n(()=>[a(d,{modelValue:o.value.maxLength,"onUpdate:modelValue":u[4]||(u[4]=f=>o.value.maxLength=f)},null,8,["modelValue"])]),_:1}),a(B,{label:"\u5728\u6B64\u5E03\u5C40\u533A\u57DF\u5F00\u5934\u653E\u7F6Ein"},{default:n(()=>[a(m,{modelValue:o.value.in,"onUpdate:modelValue":u[5]||(u[5]=f=>o.value.in=f),filterable:""},{default:n(()=>[(g(!0),v(C,null,L(r.parentRuleSet.layout,(f,y)=>(g(),h(p,{key:y,label:y,value:y},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(B,{label:"\u5728\u6307\u5B9A\u8282\u62CD\u4F4D\u7F6E\u653E\u7F6E(0\u8D77\u8BA1\u6570)at"},{default:n(()=>[a(d,{modelValue:o.value.at,"onUpdate:modelValue":u[6]||(u[6]=f=>o.value.at=f)},null,8,["modelValue"])]),_:1}),a(B,{label:"\u7EA6\u675Fconstraints"},{default:n(()=>[o.value.constraints?(g(),h(A,{key:0,shadow:"never",style:{width:"100%"}},{default:n(()=>[a(Y,{modelValue:o.value.constraints,"onUpdate:modelValue":u[7]||(u[7]=f=>o.value.constraints=f),"default-new-item-value":()=>({type:"Blank"}),"disable-scroll":!1,"retrieve-key":c(Ge)},{itemTitle:n(({item:f,key:y})=>[_(S(y)+" : "+S(f.type),1)]),default:n(({key:f})=>[a(pe,{modelValue:o.value.constraints[f],"onUpdate:modelValue":y=>o.value.constraints[f]=y,mode:"constraint","parent-rule-set":r.parentRuleSet},null,8,["modelValue","onUpdate:modelValue","parent-rule-set"])]),_:1},8,["modelValue","retrieve-key"])]),_:1})):(g(),h(s,{key:1,onClick:u[8]||(u[8]=f=>o.value.constraints=[])},{default:n(()=>[_("\u521B\u5EFA")]),_:1}))]),_:1})],64)):V("",!0)}}}),ea=U({__name:"UsageCountGroupConstraintView",props:Q({parentRuleSet:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=D(t,"modelValue");return(o,r)=>{const l=i("ElInput"),u=i("ElFormItem");return e.value?(g(),h(u,{key:0,label:"\u540D\u79F0name",required:""},{default:n(()=>[a(l,{modelValue:e.value.name,"onUpdate:modelValue":r[0]||(r[0]=p=>e.value.name=p)},null,8,["modelValue"])]),_:1})):V("",!0)}}}),ta={style:{"margin-top":"4px",display:"flex","align-items":"center"}},aa=U({__name:"RejectPatternWithUsageCountConstraintView",props:Q({parentRuleSet:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=D(t,"modelValue"),o=K(()=>e.value.value==="max"||e.value.value==="maxAutoBalance"||typeof e.value.value=="number");return(r,l)=>{const u=i("ElRadio"),p=i("ElRadioGroup"),m=i("ElFormItem"),s=i("ElInput"),B=i("ElOption"),d=i("ElSelect"),A=i("ElText"),f=i("ElButton");return e.value?(g(),v(C,{key:0},[a(m,{label:"\u5C42\u7EA7level",required:""},{default:n(()=>[a(p,{modelValue:e.value.level,"onUpdate:modelValue":l[0]||(l[0]=y=>e.value.level=y)},{default:n(()=>[a(u,{value:"batch"},{default:n(()=>[_("\u6279\u6B21batch")]),_:1}),a(u,{value:"piece"},{default:n(()=>[_("\u6761\u76EEpiece")]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(m,{label:"\u8BA1\u6570\u7EC4\u540D\u79F0groupName",required:""},{default:n(()=>[a(s,{modelValue:e.value.groupName,"onUpdate:modelValue":l[1]||(l[1]=y=>e.value.groupName=y)},null,8,["modelValue"])]),_:1}),a(m,{label:"\u6BD4\u8F83\u8FD0\u7B97\u7B26comparator",required:""},{default:n(()=>[a(d,{modelValue:e.value.comparator,"onUpdate:modelValue":l[2]||(l[2]=y=>e.value.comparator=y)},{default:n(()=>[(g(),v(C,null,L(["<","<=","==",">=",">","!="],y=>a(B,{key:y,label:y,value:y},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(m,{label:"\u6BD4\u8F83\u503Cvalue",required:""},{default:n(()=>[a(s,{modelValue:e.value.value,"onUpdate:modelValue":l[3]||(l[3]=y=>e.value.value=y),modelModifiers:{number:!0}},null,8,["modelValue"]),R("div",ta,[a(A,{size:"small"},{default:n(()=>[_("\u7279\u6B8A\u503C\uFF1A")]),_:1}),a(f,{size:"small",onClick:l[4]||(l[4]=y=>e.value.value="max")},{default:n(()=>[_("max")]),_:1}),a(f,{size:"small",onClick:l[5]||(l[5]=y=>e.value.value="maxAutoBalance")},{default:n(()=>[_("maxAutoBalance")]),_:1})]),Ae(a(A,{type:"danger"},{default:n(()=>[_("value\u503C\u65E0\u6548\uFF0C\u5E94\u4E3A\u6570\u5B57\u6216\u201Cmax\u201D\uFF0C\u201CmaxAutoBalance\u201D")]),_:1},512),[[_e,!o.value]])]),_:1})],64)):V("",!0)}}}),na=U({__name:"OnlyAllowPatternsWhenEndingAt",props:Q({parentRuleSet:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=D(t,"modelValue"),o=W();return(r,l)=>{const u=i("ElOption"),p=i("ElSelect"),m=i("ElButton"),s=i("ElFormItem"),B=i("ElInputNumber");return e.value?(g(),v(C,{key:0},[a(s,{label:"\u4ECE\u5206\u7C7B\u4E2D\u9009\u53D6\u8282\u594F\u578BwhatCategories"},{default:n(()=>[e.value.whatCategories?(g(),h(p,{key:0,modelValue:e.value.whatCategories,"onUpdate:modelValue":l[0]||(l[0]=d=>e.value.whatCategories=d),multiple:"",filterable:""},{default:n(()=>[(g(!0),v(C,null,L(c(o).config.categories,(d,A)=>(g(),h(u,{key:A,label:A,value:A},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):(g(),h(m,{key:1,onClick:l[1]||(l[1]=d=>e.value.whatCategories=[])},{default:n(()=>[_("\u521B\u5EFA")]),_:1}))]),_:1}),a(s,{label:"\u4ECE\u6B64\u5217\u8868\u4E2D\u9009\u53D6\u8282\u594F\u578BwhatPatterns"},{default:n(()=>[e.value.whatPatterns?(g(),h(Be,{key:0,modelValue:e.value.whatPatterns,"onUpdate:modelValue":l[2]||(l[2]=d=>e.value.whatPatterns=d),"all-patterns":c(o).config.patterns},null,8,["modelValue","all-patterns"])):(g(),h(m,{key:1,onClick:l[3]||(l[3]=d=>e.value.whatPatterns=[])},{default:n(()=>[_("\u521B\u5EFA")]),_:1}))]),_:1}),a(s,{label:"\u5728\u6307\u5B9A\u8282\u62CD\u4F4D\u7F6E\u653E\u7F6E\u65F6\u68C0\u67E5(0\u8D77\u8BA1\u6570)whenEndingAtBeat"},{default:n(()=>[a(B,{modelValue:e.value.whenEndingAtBeat,"onUpdate:modelValue":l[4]||(l[4]=d=>e.value.whenEndingAtBeat=d)},null,8,["modelValue"])]),_:1})],64)):V("",!0)}}}),{allActions:oa,allConstraints:la,optionsRegistry:Ne}=function(){const t={Blank:{defaults:()=>({type:"Blank"}),view:{}},FillEachBlank:{defaults:()=>({type:"FillEachBlank",in:[],with:{type:"Blank"}}),view:Yt},ChooseARandomPosition:{defaults:()=>({type:"ChooseARandomPosition",in:[],length:1,do:{type:"Blank"}}),view:Zt},RandomPick:{defaults:()=>({type:"RandomPick"}),view:Ve},PickSequentially:{defaults:()=>({type:"PickSequentially"}),view:Ve}},e={Blank:{defaults:()=>({type:"Blank"}),view:{}},UsageCountGroup:{defaults:()=>({type:"UsageCountGroup",name:""}),view:ea},RejectPatternWithUsageCount:{defaults:()=>({type:"RejectPatternWithUsageCount",level:"piece",groupName:"",comparator:">=",value:"maxAutoBalance"}),view:aa},OnlyAllowPatternsWhenEndingAt:{defaults:()=>({type:"OnlyAllowPatternsWhenEndingAt",whenEndingAtBeat:0}),view:na}};return{allActions:Object.keys(t),allConstraints:Object.keys(e),optionsRegistry:{...t,...e}}}(),pe=U({__name:"XObjEditor",props:Q({mode:{},parentRuleSet:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=D(t,"modelValue"),o=K({get:()=>e.value.type,set:r=>{e.value={...Ne[r].defaults(),[X]:e.value[X]}}});return(r,l)=>{const u=i("ElOption"),p=i("ElSelect"),m=i("ElFormItem");return g(),v(C,null,[a(m,{label:"\u7C7B\u578Btype",required:""},{default:n(()=>[a(p,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=s=>o.value=s),filterable:""},{default:n(()=>[(g(!0),v(C,null,L(r.mode==="action"?c(oa):c(la),s=>(g(),h(u,{key:s,value:s},null,8,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e.value.type!=="Blank"?(g(),h(Ie(c(Ne)[e.value.type].view),{key:0,modelValue:e.value,"onUpdate:modelValue":l[1]||(l[1]=s=>e.value=s),"parent-rule-set":r.parentRuleSet},null,8,["modelValue","parent-rule-set"])):V("",!0)],64)}}}),ra=U({__name:"RuleSetsPane",setup(t){const e=W(),o=E(0),r=E("");function l(u,p){p([{value:"[M: 4/4] [Q: 1/4=72]",label:"[M: 4/4] [Q: 1/4=72]\uFF08\u66F4\u6362\u62CD\u53F7\u5E76\u66F4\u6539\u901F\u5EA6\uFF09"},{value:"[M: 4/4]",label:"[M: 4/4]\uFF08\u66F4\u6362\u62CD\u53F7\uFF09"},{value:"|",label:"|\uFF08\u5C0F\u8282\u7EBF\uFF09"},{value:"[Q: 1/4=72]",label:"[Q: 1/4=72]\uFF08\u66F4\u6539\u901F\u5EA6\uFF09"}])}return(u,p)=>{const m=i("ElInputNumber"),s=i("ElFormItem"),B=i("el-autocomplete"),d=i("ElButton"),A=i("ElForm"),f=i("el-table-column"),y=i("ElIcon"),G=i("ElTableColumn"),O=i("el-table"),F=i("ElCard");return g(),h(Y,{modelValue:c(e).config.ruleSets,"onUpdate:modelValue":p[2]||(p[2]=N=>c(e).config.ruleSets=N),"default-new-item-value":()=>({scoreInsertions:{0:"[M: 4/4] [Q: 1/4=72]"},pieceLength:8,layout:{},actions:[]}),"dialog-title":"\u6DFB\u52A0\u89C4\u5219\u96C6","dialog-prompt":"\u8BF7\u4E3A\u89C4\u5219\u96C6\u8BBE\u5B9A\u4E00\u4E2A\u552F\u4E00\u7684\u6807\u8BC6\u540D\u79F0\uFF0C\u6B64\u540D\u79F0\u4F1A\u5728\u5176\u4ED6\u5730\u65B9\u7528\u4E8E\u6307\u4EE3\u6B64\u89C4\u5219\u96C6\u3002","dialog-error-text":"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A\u6216\u4E0E\u73B0\u6709\u89C4\u5219\u96C6\u91CD\u590D\u3002"},{default:n(({item:N,key:j})=>[a(s,{label:"\u4E50\u8C31\u63D2\u5165\u6587\u672CscoreInsertions",required:""},{default:n(()=>[a(F,{shadow:"never",style:{width:"100%"}},{default:n(()=>[a(A,{inline:""},{default:n(()=>[a(s,null,{default:n(()=>[a(m,{modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=x=>o.value=x),placeholder:"\u8282\u62CD\u5E8F\u53F7\uFF08\u96F6\u8D77\uFF09beatIndex"},null,8,["modelValue"])]),_:1}),a(s,null,{default:n(()=>[a(B,{modelValue:r.value,"onUpdate:modelValue":p[1]||(p[1]=x=>r.value=x),placeholder:"\u5185\u5BB9content","fetch-suggestions":l},{default:n(({item:x})=>[_(S(x.label),1)]),_:2},1032,["modelValue"])]),_:2},1024),a(s,null,{default:n(()=>[a(d,{onClick:x=>N.scoreInsertions[o.value]=r.value},{default:n(()=>[_("\u6DFB\u52A0")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024),a(O,{data:Object.entries(N.scoreInsertions)},{default:n(()=>[a(f,{prop:"0",label:"\u8282\u62CD\u5E8F\u53F7\uFF08\u96F6\u8D77\uFF09beatIndex"}),a(f,{prop:"1",label:"\u5185\u5BB9content"}),a(G,{label:"\u64CD\u4F5C",width:"55px"},{default:n(x=>[a(d,{link:"",onClick:J(b=>delete N.scoreInsertions[x.row[0]],["prevent"])},{default:n(()=>[a(y,null,{default:n(()=>[a(c(xe))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["data"])]),_:2},1024)]),_:2},1024),a(s,{label:"\u6BCF\u6761\u957F\u5EA6pieceLength",required:""},{default:n(()=>[a(m,{modelValue:N.pieceLength,"onUpdate:modelValue":x=>N.pieceLength=x},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(s,{label:"\u5E03\u5C40layout",required:""},{default:n(()=>[a(F,{shadow:"never",style:{width:"100%"}},{default:n(()=>[a(Y,{modelValue:c(e).config.ruleSets[j].layout,"onUpdate:modelValue":x=>c(e).config.ruleSets[j].layout=x,"default-new-item-value":()=>({start:0,end:N.pieceLength}),"dialog-title":"\u6DFB\u52A0\u5E03\u5C40\u533A\u57DF","dialog-prompt":"\u8BF7\u4E3A\u5E03\u5C40\u533A\u57DF\u8BBE\u5B9A\u4E00\u4E2A\u552F\u4E00\u7684\u6807\u8BC6\u540D\u79F0\uFF0C\u6B64\u540D\u79F0\u4F1A\u5728\u5176\u4ED6\u5730\u65B9\u7528\u4E8E\u6307\u4EE3\u6B64\u5E03\u5C40\u533A\u57DF\u3002","dialog-error-text":"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A\u6216\u4E0E\u73B0\u6709\u5E03\u5C40\u533A\u57DF\u91CD\u590D\u3002","disable-scroll":!1},{default:n(({item:x})=>[a(s,{label:"\u8D77\u70B9(\u542B)start",required:""},{default:n(()=>[a(m,{modelValue:x.start,"onUpdate:modelValue":b=>x.start=b},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(s,{label:"\u7EC8\u70B9(\u4E0D\u542B)end",required:""},{default:n(()=>[a(m,{modelValue:x.end,"onUpdate:modelValue":b=>x.end=b},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","default-new-item-value"])]),_:2},1024)]),_:2},1024),a(s,{label:"\u52A8\u4F5Cactions",required:""},{default:n(()=>[a(F,{shadow:"never",style:{width:"100%"}},{default:n(()=>[a(Y,{modelValue:c(e).config.ruleSets[j].actions,"onUpdate:modelValue":x=>c(e).config.ruleSets[j].actions=x,"default-new-item-value":()=>({type:"Blank"}),"disable-scroll":!1,"retrieve-key":c(Ge)},{itemTitle:n(({item:x,key:b})=>[_(S(b)+" : "+S(x.type),1)]),default:n(({key:x})=>[a(pe,{modelValue:c(e).config.ruleSets[j].actions[x],"onUpdate:modelValue":b=>c(e).config.ruleSets[j].actions[x]=b,mode:"action","parent-rule-set":c(e).config.ruleSets[j]},null,8,["modelValue","onUpdate:modelValue","parent-rule-set"])]),_:2},1032,["modelValue","onUpdate:modelValue","retrieve-key"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"])}}}),ia={style:{display:"flex","justify-content":"flex-end"}},ua=U({__name:"BatchPresetsPane",setup(t){const e=W(),o=E(""),r=E(1);function l(s){e.config.batchPresets&&e.config.batchPresets[s].push({ruleSetName:o.value,amount:r.value})}function u(s,B){e.config.batchPresets&&e.config.batchPresets[s].splice(B,1)}function p(s,B){if(e.config.batchPresets){let d=e.config.batchPresets[s].splice(B,1);e.config.batchPresets[s].splice(B-1,0,...d)}}function m(s,B){if(e.config.batchPresets){let d=e.config.batchPresets[s].splice(B,1);e.config.batchPresets[s].splice(B+1,0,...d)}}return(s,B)=>{const d=i("ElOption"),A=i("ElSelect"),f=i("ElFormItem"),y=i("ElInputNumber"),G=i("ElButton"),O=i("ElForm"),F=i("ElTableColumn"),N=i("ElIcon"),j=i("ElTable");return c(e).config.batchPresets?(g(),h(Y,{key:0,modelValue:c(e).config.batchPresets,"onUpdate:modelValue":B[2]||(B[2]=x=>c(e).config.batchPresets=x),"default-new-item-value":()=>[],"dialog-title":"\u6DFB\u52A0\u6279\u91CF\u751F\u6210\u9884\u8BBE","dialog-prompt":"\u8BF7\u4E3A\u6279\u91CF\u751F\u6210\u9884\u8BBE\u8BBE\u5B9A\u4E00\u4E2A\u552F\u4E00\u7684\u6807\u8BC6\u540D\u79F0\uFF0C\u6B64\u540D\u79F0\u4F1A\u5728\u5176\u4ED6\u5730\u65B9\u7528\u4E8E\u6307\u4EE3\u6B64\u9884\u8BBE\u3002","dialog-error-text":"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A\u6216\u4E0E\u73B0\u6709\u6279\u91CF\u751F\u6210\u9884\u8BBE\u91CD\u590D\u3002"},{default:n(({key:x})=>[a(O,{inline:"",style:{display:"flex"}},{default:n(()=>[a(f,{style:{width:"calc((100% - 110px) * 0.5)"}},{default:n(()=>[a(A,{modelValue:o.value,"onUpdate:modelValue":B[0]||(B[0]=b=>o.value=b),placeholder:"\u89C4\u5219\u96C6\u540D\u79F0ruleSetName",filterable:""},{default:n(()=>[(g(!0),v(C,null,L(Object.keys(c(e).config.ruleSets),b=>(g(),h(d,{key:b,label:b,value:b},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(f,null,{default:n(()=>[a(y,{modelValue:r.value,"onUpdate:modelValue":B[1]||(B[1]=b=>r.value=b),placeholder:"\u6570\u91CFamount"},null,8,["modelValue"])]),_:1}),a(f,null,{default:n(()=>[a(G,{onClick:b=>l(x)},{default:n(()=>[_("\u6DFB\u52A0")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024),a(j,{data:c(e).config.batchPresets[x]},{default:n(()=>[a(F,{prop:"ruleSetName",label:"\u89C4\u5219\u96C6\u540D\u79F0ruleSetName"}),a(F,{prop:"amount",label:"\u6570\u91CFamount"}),a(F,{label:"\u64CD\u4F5C",width:"110px"},{default:n(b=>[R("div",ia,[b.$index>0?(g(),h(G,{key:0,link:"",onClick:J(w=>p(x,b.$index),["stop"])},{default:n(()=>[a(N,null,{default:n(()=>[a(c(Se))]),_:1})]),_:2},1032,["onClick"])):V("",!0),b.$index<c(e).config.batchPresets[x].length-1?(g(),h(G,{key:1,link:"",onClick:J(w=>m(x,b.$index),["stop"])},{default:n(()=>[a(N,null,{default:n(()=>[a(c(We))]),_:1})]),_:2},1032,["onClick"])):V("",!0),a(G,{link:"",onClick:J(w=>u(x,b.$index),["prevent"])},{default:n(()=>[a(N,null,{default:n(()=>[a(c(xe))]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1032,["data"])]),_:1},8,["modelValue"])):(g(),h(G,{key:1,onClick:B[3]||(B[3]=x=>c(e).config.batchPresets={})},{default:n(()=>[_("\u521B\u5EFA")]),_:1}))}}}),sa=U({__name:"SettingsPane",setup(t){const e=W();return Wa(()=>{var o;return(o=e.config.settings)==null?void 0:o.autoSeed},o=>{o&&delete e.config.settings.fixedSeed}),(o,r)=>{const l=i("ElSwitch"),u=i("ElFormItem"),p=i("ElInput"),m=i("ElForm"),s=i("ElButton");return c(e).config.settings?(g(),h(m,{key:0,"label-position":"top"},{default:n(()=>[a(u,{label:"\u81EA\u52A8\u8BBE\u7F6E\u968F\u673A\u6570\u79CD\u5B50autoSeed"},{default:n(()=>[a(l,{modelValue:c(e).config.settings.autoSeed,"onUpdate:modelValue":r[0]||(r[0]=B=>c(e).config.settings.autoSeed=B)},null,8,["modelValue"])]),_:1}),Ae(a(u,{label:"\u56FA\u5B9A\u79CD\u5B50\u6570\u503CfixedSeed"},{default:n(()=>[a(p,{modelValue:c(e).config.settings.fixedSeed,"onUpdate:modelValue":r[1]||(r[1]=B=>c(e).config.settings.fixedSeed=B),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1},512),[[_e,!c(e).config.settings.autoSeed]]),a(u,{label:"\u6700\u5927\u91CD\u8BD5\u6B21\u6570maxRetry"},{default:n(()=>[a(p,{modelValue:c(e).config.settings.maxRetry,"onUpdate:modelValue":r[2]||(r[2]=B=>c(e).config.settings.maxRetry=B),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1})):(g(),h(s,{key:1,onClick:r[3]||(r[3]=B=>c(e).config.settings={})},{default:n(()=>[_("\u521B\u5EFA")]),_:1}))}}}),pa={class:"disable-scroll",style:{display:"flex","flex-direction":"column"}},ca={class:"disable-scroll"},Ee=U({__name:"EditorPage",setup(t){const e=W(),o=se();return(r,l)=>{const u=i("el-text"),p=i("ElTabPane"),m=i("ElTabs"),s=i("ElCol"),B=i("el-input"),d=i("ElScrollbar"),A=i("ElRow");return g(),h(A,{class:"disable-scroll"},{default:n(()=>[a(s,{span:16,class:"disable-scroll"},{default:n(()=>[c(o).currentStep==="edit-err"?(g(),h(u,{key:0,type:"danger"},{default:n(()=>[_(" \u9519\u8BEF\uFF1A"+S(c(o).errorMsg),1)]),_:1})):V("",!0),a(m,{"tab-position":"left",class:"disable-scroll"},{default:n(()=>[a(p,{label:"\u8282\u594F\u578B\u5217\u8868patterns",class:"disable-scroll"},{default:n(()=>[a(Jt)]),_:1}),a(p,{label:"\u8282\u594F\u578B\u5206\u7C7Bcategories",class:"disable-scroll"},{default:n(()=>[a(Ht)]),_:1}),a(p,{label:"\u89C4\u5219\u96C6ruleSets",class:"disable-scroll"},{default:n(()=>[a(ra)]),_:1}),a(p,{label:"\u6279\u91CF\u751F\u6210\u9884\u8BBEbatchPresets",class:"disable-scroll"},{default:n(()=>[a(ua)]),_:1}),a(p,{label:"\u751F\u6210\u5668\u8BBE\u7F6Esettings",class:"disable-scroll"},{default:n(()=>[a(sa)]),_:1})]),_:1})]),_:1}),a(s,{span:8,class:"disable-scroll"},{default:n(()=>[R("div",pa,[a(B,{modelValue:c(e).config.comments,"onUpdate:modelValue":l[0]||(l[0]=f=>c(e).config.comments=f),type:"textarea",autosize:{minRows:1,maxRows:15},placeholder:"\u6CE8\u91CAcomments"},null,8,["modelValue"]),a(d,null,{default:n(()=>[R("code",ca,[R("pre",null,S(c(fe).stringify(c(e).config)),1)])]),_:1})])]),_:1})]),_:1})}}}),da=U({__name:"ResultPage",setup(t){const e=se(),o=W(),r=K(()=>be(e.generationResult,o.config));return(l,u)=>{const p=i("el-text"),m=i("ElScrollbar");return g(),h(m,null,{default:n(()=>[c(e).currentStep==="exec-err"?(g(),h(p,{key:0,type:"danger"},{default:n(()=>[_(" \u9519\u8BEF\uFF1A"+S(c(e).errorMsg),1)]),_:1})):(g(),h(de,{key:1,score:r.value,count:c(e).generationResult.length},null,8,["score","count"]))]),_:1})}}}),ma={style:{display:"flex","flex-direction":"column","align-items":"center"}},Ba=U({__name:"PrebuiltConfigPage",setup(t){const e=se(),o=W();return(r,l)=>{const u=i("ElOption"),p=i("ElSelect"),m=i("ElButton"),s=i("ElScrollbar");return g(),h(s,null,{default:n(()=>[R("div",ma,[c(o).config.batchPresets?(g(),h(p,{key:0,modelValue:c(e).selectedPresetName,"onUpdate:modelValue":l[0]||(l[0]=B=>c(e).selectedPresetName=B),placeholder:"\u9009\u62E9\u751F\u6210\u9884\u8BBE",style:{width:"500px","margin-bottom":"12px"}},{default:n(()=>[(g(!0),v(C,null,L(Object.keys(c(o).config.batchPresets),B=>(g(),h(u,{key:B,label:B,value:B},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):V("",!0),a(m,{disabled:!c(o).config.batchPresets||!(c(e).selectedPresetName in c(o).config.batchPresets),onClick:l[1]||(l[1]=B=>c(e).run())},{default:n(()=>[_(" \u8FD0\u884C ")]),_:1},8,["disabled"])])]),_:1})}}}),Z=t=>(Oa("data-v-075ca552"),t=t(),Fa(),t),ga={key:0,style:{"margin-left":"50px","margin-right":"50px",flex:"1"}},ya={style:{"margin-left":"auto"}},fa=Z(()=>R("h1",null,"Rhythmologist",-1)),ha=Z(()=>R("p",null,"Copyright \xA9 2024 Liu Chibing. All rights reserved.",-1)),xa=Z(()=>R("h2",null,"\u9E23\u8C22",-1)),Aa=Z(()=>R("p",null,"\u738B\u6654 \u6559\u6388",-1)),_a=Z(()=>R("h3",null,"\u5F00\u6E90\u4EE3\u7801",-1)),va=Z(()=>R("ul",null,[R("li",null,"abcjs"),R("li",null,"Vue"),R("li",null,"Element Plus"),R("li",null,"TypeScript"),R("li",null,"Rust"),R("li",null,"Electron")],-1)),ba=U({__name:"App",setup(t){const e=se(),o=W(),r=K(()=>{switch(e.currentStep){case"editing":case"edit-err":return 1;case"running":case"exec-err":case"result":return 2;default:return 0}}),l=K(()=>{switch(e.currentStep){case"editing":return"process";case"edit-err":return"error";case"running":case"exec-err":case"result":return"success";default:return"wait"}}),u=K(()=>{switch(e.currentStep){case"editing":case"edit-err":return"wait";case"running":return"process";case"exec-err":return"error";case"result":return"success";default:return"wait"}}),p=K(()=>{switch(e.currentStep){case"prebuilt-config":return Ba;case"editing":case"edit-err":return Ee;case"running":case"exec-err":case"result":return da;default:return Ee}}),m=E(!1),s=E(!1);return(B,d)=>{const A=i("ElStep"),f=i("ElSteps"),y=i("ElOption"),G=i("ElSelect"),O=i("ElButton"),F=i("ElHeader"),N=i("ElMain"),j=i("ElContainer"),x=i("ElDialog"),b=i("el-button");return g(),v(C,null,[a(j,{class:"disable-scroll"},{default:n(()=>[a(F,null,{default:n(()=>[R("h1",{onClick:d[0]||(d[0]=w=>m.value=!0)},"Rhythmologist"),c(ce)?V("",!0):(g(),v("div",ga,[a(f,{simple:"",active:r.value},{default:n(()=>[a(A,{title:"\u914D\u7F6E\u7F16\u8F91",status:l.value},null,8,["status"]),a(A,{title:"\u8FD0\u884C\u7ED3\u679C",status:u.value},null,8,["status"])]),_:1},8,["active"])])),R("div",ya,[!c(ce)||r.value===2?(g(),v(C,{key:0},[c(o).config.batchPresets?(g(),h(G,{key:0,modelValue:c(e).selectedPresetName,"onUpdate:modelValue":d[1]||(d[1]=w=>c(e).selectedPresetName=w),placeholder:"\u9009\u62E9\u751F\u6210\u9884\u8BBE",style:{width:"150px","margin-right":"12px"}},{default:n(()=>[(g(!0),v(C,null,L(Object.keys(c(o).config.batchPresets),w=>(g(),h(y,{key:w,label:w,value:w},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):V("",!0),a(O,{disabled:!c(o).config.batchPresets||!(c(e).selectedPresetName in c(o).config.batchPresets),onClick:d[2]||(d[2]=w=>c(e).run())},{default:n(()=>[_(" \u8FD0\u884C ")]),_:1},8,["disabled"])],64)):V("",!0),r.value===1?(g(),v(C,{key:1},[a(O,{onClick:d[3]||(d[3]=w=>c(o).load())},{default:n(()=>[_("\u6253\u5F00")]),_:1}),a(O,{onClick:d[4]||(d[4]=w=>c(o).save())},{default:n(()=>[_("\u4FDD\u5B58")]),_:1})],64)):r.value===2?(g(),v(C,{key:2},[a(O,{onClick:d[5]||(d[5]=w=>s.value=!0)},{default:n(()=>[_("\u5BFC\u51FA")]),_:1}),a(O,{onClick:d[6]||(d[6]=w=>c(e).edit())},{default:n(()=>[_("\u8FD4\u56DE")]),_:1})],64)):V("",!0)])]),_:1}),a(N,{class:"disable-scroll"},{default:n(()=>[(g(),h(Ia,null,[(g(),h(Ie(p.value)))],1024))]),_:1})]),_:1}),a(x,{modelValue:m.value,"onUpdate:modelValue":d[7]||(d[7]=w=>m.value=w),title:"\u5173\u4E8E",class:"about-dialog"},{default:n(()=>[fa,ha,xa,Aa,_a,va]),_:1},8,["modelValue"]),a(x,{modelValue:s.value,"onUpdate:modelValue":d[10]||(d[10]=w=>s.value=w),title:"\u5BFC\u51FA"},{default:n(()=>[a(b,{onClick:d[8]||(d[8]=w=>c(e).exportAbc())},{default:n(()=>[_("\u5BFC\u51FAabc\uFF08\u4E00\u7EBF\u8C31\uFF09")]),_:1}),a(b,{onClick:d[9]||(d[9]=w=>c(e).exportAbc(!0))},{default:n(()=>[_("\u5BFC\u51FAabc\uFF08\u666E\u901A\u4E94\u7EBF\u8C31\uFF09")]),_:1})]),_:1},8,["modelValue"])],64)}}}),Ca=ke(ba,[["__scopeId","data-v-075ca552"]]),ge=qa(Ca);ge.use(za()),ge.use(Ta),ge.mount("#app")});
